-- Script para criar as tabelas no esquema SEFAZ_ARR com as PK, CK, FK e comentarios 
-- Autor: Eng. Juan León Solis
-- Data: 03/Mayo/2016

-- privileges from another schema
GRANT SELECT, REFERENCES ON SEFAZ_PAR.TA_ESTADO TO SEFAZ_ARR;
GRANT SELECT, REFERENCES ON SEFAZ_PAR.TA_MUNICIPIO TO SEFAZ_ARR;
GRANT SELECT, REFERENCES ON SEFAZ_PAR.TA_ATIVIDADE_ECONOMICA TO SEFAZ_ARR;

-- Esquema SEFAZ_ARR
ALTER SESSION SET CURRENT_SCHEMA = SEFAZ_ARR;

CREATE SEQUENCE SEFAZ_ARR.SQ_DETALHE_STR MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_ARQUIVOS_STR MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_DARE MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_EXIGENCIA_PARECER MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_TIPO_REJEICAO_ARQUIVOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_RESUMO_ARRECADACAO MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_ESTATISTICAS_ARRECADACAO MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_TIPO_ACOES MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_CAMPOS_ACOES MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_PAGOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_AREAS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_TIPO_DOCS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_DETALHE_PARECER MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_TIPOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PEDIDO_SOLICITACAO MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_TIPO_GRUPOS_CNAES MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_RTC_REPASSE MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PAGOS_AJUSTES_REPASSE MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_CONVENIOS_TARIFAS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_CONVENIOS_ARREC MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_ARQUIVO_DETALHE_PAGOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_ARQUIVO_RECEPCAO MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_RECEITAS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_PLANO_CONTAS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_ARQUIVO_ERRO MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_LOTES_PAGOS_ARREC MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_BANCOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_MUNICIPIOS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SEFAZ_ARR.SQ_DELEGACIAS MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE;


CREATE TABLE SEFAZ_ARR.TA_RESUMO_STR 
(
  DATA_ARRECADACAO                date CONSTRAINT NN_TA_RESUMO_STR1 NOT NULL, 
  ID_BANCO                        number(4) CONSTRAINT NN_TA_RESUMO_STR2 NOT NULL, 
  ID_CONVENIO                     number(10) CONSTRAINT NN_TA_RESUMO_STR3 NOT NULL, 
  QUANTIDADE_RECEPCIONAD_PARCIAL  number(10), 
  VALOR_RECEPCIONADO_PARCIAL      number(14, 2), 
  QUANTIDADE_RECEPCIONADA         number(10), 
  VALOR_RECEPCIONADO              number(14, 2), 
  QUANTIDADE_ARRECADADO_PARCIAL   number(10), 
  VALOR_ARRECADADO_PARCIAL        number(14, 2), 
  QUANTIDADE_ARRECADADA           number(10), 
  VALOR_ARRECADADO                number(14, 2), 
  DATA_CONSOLIDADO                date, 
  VALOR_LANCAMENTO_STR            number(14, 2), 
  SITUACAO                        number(1) CONSTRAINT NN_TA_RESUMO_STR4 NOT NULL, 
  DATA_PROCESSAMENTO              date CONSTRAINT NN_TA_RESUMO_STR5 NOT NULL,
  USUARIO_INSERCAO                varchar2(30) CONSTRAINT NN_TA_RESUMO_STR6 NOT NULL, 
  DATA_INSERCAO                   timestamp CONSTRAINT NN_TA_RESUMO_STR7 NOT NULL, 
  USUARIO_ALTERACAO               varchar2(30), 
  DATA_ALTERACAO                  timestamp, 
  REGISTRO_EXCLUIDO               char(1) default 'N' CONSTRAINT NN_TA_RESUMO_STR8 NOT NULL, 
  USUARIO_EXCLUSAO                varchar2(30), 
  DATA_EXCLUSAO                   timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT PK_RESUMO_TR PRIMARY KEY (DATA_ARRECADACAO, ID_BANCO, ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR2 CHECK ( trunc(DATA_ARRECADACAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR3 CHECK ( VALOR_RECEPCIONADO_PARCIAL IS NULL OR VALOR_RECEPCIONADO_PARCIAL>=0);
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR4 CHECK ( QUANTIDADE_RECEPCIONADA IS NULL OR QUANTIDADE_RECEPCIONADA>=0 );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR5 CHECK ( QUANTIDADE_ARRECADADO_PARCIAL IS NULL OR QUANTIDADE_ARRECADADO_PARCIAL>=0 );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR6 CHECK ( QUANTIDADE_ARRECADADA IS NULL OR QUANTIDADE_ARRECADADA>=0 );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR7 CHECK ( VALOR_ARRECADADO IS NULL OR VALOR_ARRECADADO>=0 );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR8 CHECK ( trunc(DATA_CONSOLIDADO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR9 CHECK ( trunc(DATA_CONSOLIDADO) >= trunc(DATA_ARRECADACAO) ); 
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR10 CHECK ( VALOR_LANCAMENTO_STR IS NULL OR VALOR_LANCAMENTO_STR>=0 );
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR11 CHECK ( SITUACAO IN (1,2) ); 
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR12 CHECK ( trunc(DATA_PROCESSAMENTO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) ); 
ALTER TABLE SEFAZ_ARR.TA_RESUMO_STR ADD CONSTRAINT CK_RESUMO_TR13 CHECK ( trunc(DATA_PROCESSAMENTO) >= trunc(DATA_ARRECADACAO) ); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_RESUMO_STR IS 'Tabela de Resumo dos Arquivos Processados do STR20';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_ARRECADACAO IS 'DATA DA ARRECADAÇÃO ( DD/MM/YYYY )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.ID_BANCO IS 'CÓDIGO DO BANCO ARRECADADOR';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.ID_CONVENIO IS 'CÓDIGO DO CONVÊNIO DO BANCO ARRECADADOR';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.QUANTIDADE_RECEPCIONAD_PARCIAL IS 'QUANTIDADE DE DOCUMENTOS RECEPCIONADOS DOS ARQUIVOS DE ARRECADAÇÃO PARCIAIS Tipo de arquivo (1-online )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.VALOR_RECEPCIONADO_PARCIAL IS 'VALOR TOTAL RECEPCIONADO PARCIAL Tipo de arquivo (1-online)';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.QUANTIDADE_RECEPCIONADA IS 'QUANTIDADE DE DOCUMENTOS RECEPCIONADOS DOS ARQUIVOS DE ARRECADAÇÃO CONSOLIDADO Tipo de arquivo (2-consolidado)';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.VALOR_RECEPCIONADO IS 'VALOR TOTAL RECEPCIONADO CONSOLIDADO Tipo de arquivo (2-consolidado)';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.QUANTIDADE_ARRECADADO_PARCIAL IS 'QUANTIDADE DE PAGAMENTOS PROCESSADOS PARCIAIS (1 -TPAR )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.VALOR_ARRECADADO_PARCIAL IS 'VALOR TOTAL PAGAMENTOS PROCESSADOS PARCIAIS ( 1 -TPAR )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.QUANTIDADE_ARRECADADA IS 'QUANTIDADE DE PAGAMENTOS PROCESSADOS CONSOLIDADOS ( 2 - BDAR )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.VALOR_ARRECADADO IS 'VALOR TOTAL PAGAMENTOS PROCESSADOS CONSOLIDADOS ( 2 -BDAR )';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_CONSOLIDADO IS 'DATA E HORA DO ULTIMO PROCESSAMENTO DO ARQUIVO CONSOLIDADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.VALOR_LANCAMENTO_STR IS 'VALOR ARRECADADO DO ARQUIVO STR20 PARA O BANCO E CONVÊNIO';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.SITUACAO IS '1 - CONCILIADO , 2 - NÃO CONCILIADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_PROCESSAMENTO IS 'DATA E HORA DO ULTIMO PROCESSAMENTO DE CONCILIAÇÃO REALIZADO.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_STR.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';



CREATE TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR (
  ID_ARQUIVO_STR     	 number(10) CONSTRAINT NN_ARQUIVO_ERROS_STR1 NOT NULL, 
  ID_CODIGO_REJEICAO 	 number(2) CONSTRAINT NN_ARQUIVO_ERROS_STR2 NOT NULL,
  USUARIO_INSERCAO       varchar2(30) CONSTRAINT NN_ARQUIVO_ERROS_STR3 NOT NULL, 
  DATA_INSERCAO          timestamp CONSTRAINT NN_ARQUIVO_ERROS_STR4 NOT NULL, 
  USUARIO_ALTERACAO      varchar2(30), 
  DATA_ALTERACAO         timestamp, 
  REGISTRO_EXCLUIDO      char(1) default 'N' CONSTRAINT NN_ARQUIVO_ERROS_STR5 NOT NULL, 
  USUARIO_EXCLUSAO       varchar2(30), 
  DATA_EXCLUSAO          timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR ADD CONSTRAINT PK_ARQUIVO_ERROS_STR PRIMARY KEY (ID_ARQUIVO_STR, ID_CODIGO_REJEICAO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR ADD CONSTRAINT CK_ARQUIVO_ERROS_STR1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
  
COMMENT ON TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR IS 'Tabela de Erros dectados no processamento do arquivo do tipo str0020';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.ID_ARQUIVO_STR IS 'Sequencial Gerado para controle das recepções dos arquivos STR20 ';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.ID_CODIGO_REJEICAO IS 'ID Codigo de Rejeição da Tabela TA_TIPO_REJEICAO_ARQUIVOS';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERROS_STR.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DETALHE_STR (
  ID_ARQUIVO_DETALHE_STR number(10) CONSTRAINT NN_TA_DETALHE_STR1 NOT NULL, 
  ID_ARQUIVO_STR         number(10) CONSTRAINT NN_TA_DETALHE_STR2 NOT NULL, 
  ID_CONVENIO            number(10) CONSTRAINT NN_TA_DETALHE_STR3 NOT NULL, 
  TIPO_VALOR             number(2) CONSTRAINT NN_TA_DETALHE_STR4 NOT NULL, 
  VALOR_INFORMATIVO      number(14, 2) CONSTRAINT NN_TA_DETALHE_STR5 NOT NULL,
  USUARIO_INSERCAO       varchar2(30) CONSTRAINT NN_TA_DETALHE_STR6 NOT NULL, 
  DATA_INSERCAO          timestamp CONSTRAINT NN_TA_DETALHE_STR7 NOT NULL, 
  USUARIO_ALTERACAO      varchar2(30), 
  DATA_ALTERACAO         timestamp, 
  REGISTRO_EXCLUIDO      char(1) default 'N' CONSTRAINT NN_TA_DETALHE_STR8 NOT NULL, 
  USUARIO_EXCLUSAO       varchar2(30), 
  DATA_EXCLUSAO          timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_DETALHE_STR ADD CONSTRAINT PK_DETALHE_STR PRIMARY KEY (ID_ARQUIVO_DETALHE_STR);
ALTER TABLE SEFAZ_ARR.TA_DETALHE_STR ADD CONSTRAINT CK_DETALHE_STR1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_DETALHE_STR ADD CONSTRAINT CK_DETALHE_STR2 CHECK (VALOR_INFORMATIVO>=0 );
 
  
COMMENT ON TABLE SEFAZ_ARR.TA_DETALHE_STR IS 'Tabela de Detlhamento dos Tipos de Valores Informativos do Arquivo STR';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.ID_ARQUIVO_DETALHE_STR IS 'Sequencial da Tabela TA_arquivo Detalhe STR20';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.ID_ARQUIVO_STR IS 'Fk do Sequencial da Tabela Ta_Arquivos STR';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.ID_CONVENIO IS 'CÓDIGO DO CONVÊNIO BANCÁRIO ESTABELECIDO COM O BANCO DEBITADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.TIPO_VALOR IS 'Tipo do Valor Informativo, Podendo Ser: 01 - VALOR REAL,02 - ICMS PARCELA DO ESTADO,03 - ICMS PARCELA DO MUNICIPIO,04 - ICMS FUNDEB,05 - ICMS PRINCIPAL SEM MULTA,06 - ICMS PRINCIPAL COM MULTA,07 - ICMS HONORÁRIOS,08 - ICMS ACRSCIMOS LEGAIS,09 - IPVA TOTAL,10 - IPVA PARCELA ESTADO,11 - IPVA PARCELA MUNICIPIO,12 - ITCD,13 - TAXAS,14 - MULTAS DE TRÂNSITO TOTAL,15 - MULTAS DE TRÂNSITO PARCELA DO ESTADO,16 - MULTAS DE TRÂNSITO PARCELA FUNSET,17 - OUTRAS RECEITAS TRIBUTÁRIAS,18 - OUTRAS RECEITAS NÃO TRIBUTÁRIAS,19 - GNRE TOTAL,20 - GNRE ICMS,21 - GNRE OUTRAS RECEITAS,22 - GNRE A CLASSIFICAR,23 - RECEITAS A CLASSIFICAR,24 - MULTAS DE TRÂNSITO - PARCELA RODOVIÁRIA FEDERAL,25 - TODOS';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.VALOR_INFORMATIVO IS 'VALOR INFORMATIVO';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DETALHE_STR.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_ARQUIVOS_STR (
  ID_ARQUIVO_STR         number(10) CONSTRAINT TA_ARQUIVOS_STR1 NOT NULL, 
  DATA_RECEPCAO          date CONSTRAINT TA_ARQUIVOS_STR2 NOT NULL, 
  NUMERO_CONTROLE_STR    varchar2(20), 
  DATA_ARRECADACAO       date CONSTRAINT TA_ARQUIVOS_STR3 NOT NULL, 
  ID_BANCO_DEBITADO      number(3) CONSTRAINT TA_ARQUIVOS_STR4 NOT NULL, 
  ID_BANCO_CREDITADO     number(3) CONSTRAINT TA_ARQUIVOS_STR5 NOT NULL, 
  ID_AGENCIA_CREDITADA   number(6), 
  CONTA_CREDITADA        varchar2(15), 
  TIPO_RECEITA           number(2) CONSTRAINT TA_ARQUIVOS_STR6 NOT NULL, 
  TIPO_RECOLHIMENTO      varchar2(1) CONSTRAINT TA_ARQUIVOS_STR7 NOT NULL, 
  VALOR_TOTAL_LANCAMENTO number(14, 2) CONSTRAINT TA_ARQUIVOS_STR8 NOT NULL, 
  DATA_BACEN             date, 
  DATA_MOVIMENTO         date, 
  HISTORICO_MOVIMENTO    varchar2(500), 
  SITUACAO               number(1) CONSTRAINT TA_ARQUIVOS_STR9 NOT NULL, 
  ARQUIVO_STR            blob, 
  DATA_PROCESSAMENTO     date, 
  USUARIO_LANCAMENTO     number(11), 
  USUARIO_INSERCAO       varchar2(30) CONSTRAINT TA_ARQUIVOS_STR10 NOT NULL, 
  DATA_INSERCAO          timestamp CONSTRAINT TA_ARQUIVOS_STR11 NOT NULL, 
  USUARIO_ALTERACAO      varchar2(30), 
  DATA_ALTERACAO         timestamp, 
  REGISTRO_EXCLUIDO      char(1) default 'N' CONSTRAINT TA_ARQUIVOS_STR12 NOT NULL, 
  USUARIO_EXCLUSAO       varchar2(30), 
  DATA_EXCLUSAO          timestamp
);

ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT PK_ARQUIVOS_STR PRIMARY KEY (ID_ARQUIVO_STR);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR2 CHECK ( trunc(DATA_RECEPCAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR3 CHECK ( trunc(DATA_ARRECADACAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR4 CHECK ( SITUACAO between 1 and 4 );
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR5 CHECK ( trunc(DATA_PROCESSAMENTO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_ARQUIVOS_STR ADD CONSTRAINT CK_ARQUIVOS_STR6 CHECK ( trunc(DATA_PROCESSAMENTO) >= trunc(DATA_ARRECADACAO) );
  
COMMENT ON TABLE SEFAZ_ARR.TA_ARQUIVOS_STR IS 'Tabela de Recepção dos arquivos de Conciliação bancária do Tipo STR0020';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.ID_ARQUIVO_STR IS 'Sequencial Gerado para controle das recepções dos arquivos STR20';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_RECEPCAO IS 'DATA DE RECEPÇÃO DO ARQUIVO OU DATA DO LANÇAMENTO MANUAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.NUMERO_CONTROLE_STR IS 'NÚMERO DE CONTROLE DO STR20 DO ARQUIVO RECEPCIONADO.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_ARRECADACAO IS 'Data da Arrecadação Bancária';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.ID_BANCO_DEBITADO IS 'ID do Banco Debitado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.ID_BANCO_CREDITADO IS 'ID BANCO Creditado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.ID_AGENCIA_CREDITADA IS 'Código da Agência Creditada';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.CONTA_CREDITADA IS 'Conta da Agência Creditada';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.TIPO_RECEITA IS 'TIPO DE RECEITAS: 1 - ICMS,2- IPVA,3 - SIMPLES NACIONAL,4 - RECEITAS NÃO TRIBUTÁRIAS,6 - GNRE, 7 - DEMAIS RECEITAS TRIBUTÁRIAS';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.TIPO_RECOLHIMENTO IS 'TIPO DE RECOLHIMENTO BANCÁRIO: N - RECOLHIMENTO NORMAL, P - RECOLHIMENTO PAPEL, M - LANÇAMENTO MANUAL SEFAZ';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.VALOR_TOTAL_LANCAMENTO IS 'VALOR TOTAL DO LANÇAMENTO BANCÁRIO PARA O TIPO DE RECEITA';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_BACEN IS 'DATA E HORA DO LANÇAMENTO PELO BACEN';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_MOVIMENTO IS 'DATA EM QUE FOI FEITO O MOVIMENTO BANCÁRIO';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.HISTORICO_MOVIMENTO IS 'HISTORICO DO MOVIMENTO OU MOTIVO DO LANÇAMENTO MANUAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.SITUACAO IS 'SITUAÇÃO PROCESSAMENTO: 1-PROCESSADO, 2-NÃO PROCESSADO, 3 - LANÇAMENTO MANUAL,  4 - EXCLUSÃO LANÇAMENTO MANUAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.ARQUIVO_STR IS 'ARQUIVO XML RECEPCIONADO DO TIPO STR20';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_PROCESSAMENTO IS 'DATA E HORA DO PROCESSAMENTO DO ARQUIVO';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.USUARIO_LANCAMENTO IS 'CPF DO USUÁRIO QUE REALIZOU O LANCAMENTO MANUAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVOS_STR.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';

CREATE TABLE SEFAZ_ARR.TA_DARE (
  ID_NOSSO_NUMERO_DARE number(15) CONSTRAINT NN_TA_DARE1 NOT NULL, 
  ID_INSTITUICAO       number(5) CONSTRAINT NN_TA_DARE2 NOT NULL, 
  UF_EMISSAO           varchar2(2) CONSTRAINT NN_TA_DARE3 NOT NULL, 
  ID_MUNICIPIO_EMISSAO number(7) CONSTRAINT NN_TA_DARE4 NOT NULL, 
  DATA_VENCIMENTO      date CONSTRAINT NN_TA_DARE5 NOT NULL, 
  TIPO_PESSOA          number(1) CONSTRAINT NN_TA_DARE6 NOT NULL, 
  ID_PESSOA            number(14) CONSTRAINT NN_TA_DARE7 NOT NULL, 
  NOME_RAZAO_SOCIAL    varchar2(255) CONSTRAINT NN_TA_DARE8 NOT NULL, 
  DATA_EMISSAO         date CONSTRAINT NN_TA_DARE9 NOT NULL, 
  USUARIO_EMISSOR      varchar2(14) CONSTRAINT NN_TA_DARE10 NOT NULL, 
  QUANTIDADE_DEBITOS   number(6) CONSTRAINT NN_TA_DARE11 NOT NULL, 
  VALOR_TOTAL_DARE     number(14, 2) CONSTRAINT NN_TA_DARE12 NOT NULL, 
  BARRA_DARE           varchar2(46) CONSTRAINT NN_TA_DARE13 NOT NULL, 
  DATA_PAGO            date,
  USUARIO_INSERCAO     varchar2(30) CONSTRAINT NN_TA_DARE14 NOT NULL, 
  DATA_INSERCAO        timestamp CONSTRAINT NN_TA_DARE15 NOT NULL, 
  USUARIO_ALTERACAO    varchar2(30), 
  DATA_ALTERACAO       timestamp, 
  REGISTRO_EXCLUIDO    char(1) default 'N' CONSTRAINT NN_TA_DARE16 NOT NULL, 
  USUARIO_EXCLUSAO     varchar2(30), 
  DATA_EXCLUSAO        timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT PK_DARE PRIMARY KEY (ID_NOSSO_NUMERO_DARE);
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE2 CHECK (ID_NOSSO_NUMERO_DARE > 0 );
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE3 CHECK (trunc(DATA_VENCIMENTO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE4 CHECK (to_number(substr(to_char(ID_NOSSO_NUMERO_DARE),1,4)) >= 2016);
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE5 CHECK (to_number(substr(to_char(ID_NOSSO_NUMERO_DARE),5,1)) in (1,2));
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE6 CHECK (TIPO_PESSOA between 1 and 5);
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE7 CHECK (trunc(DATA_EMISSAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE8 CHECK (QUANTIDADE_DEBITOS >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE9 CHECK (VALOR_TOTAL_DARE > 0);
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE10 CHECK (trunc(DATA_PAGO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_DARE ADD CONSTRAINT CK_DARE11 CHECK (trunc(DATA_PAGO) >= trunc(DATA_EMISSAO));

  
COMMENT ON TABLE SEFAZ_ARR.TA_DARE IS 'Tabela de DARES emitidos pelos Sistemas da SEFAZ-TO.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.ID_NOSSO_NUMERO_DARE IS 'Número Sequencial gerado por ano para identificação do DARE emitido nos sistemas da SEFAZ-TO. Formato de AAAAI0000000000 , AAAA - Ano de Geração da Sequenciai, I - 1 - Emitido pelo SIAT, 2 - Emitido pela Internet. 0000000000 - Sequencial gerado por Ano.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.ID_INSTITUICAO IS 'Orgão Emissor do DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.UF_EMISSAO IS 'Unidade Federada que está emitindo o DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.ID_MUNICIPIO_EMISSAO IS 'Código do Municipio que está emitindo o DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_VENCIMENTO IS 'Data de Vencimento do DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.TIPO_PESSOA IS '1-INSCRICAO CONTRIBUINTE, 2-CNPJ, 3-CPF, 4-RENAVAN, 5 - CHASSI';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.ID_PESSOA IS 'Responsável pelo Pagamento do DARE, podendo ser uma Inscrição Estadual ou CPF ou CPNJ ou RENAVAN. Cadastrados na Tabela de Contribuintes do IPVA, EXTRACADASTRO ou IPVA';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.NOME_RAZAO_SOCIAL IS 'Nome ou Razão Social Informado na emissão do DARE.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_EMISSAO IS 'Data e hora de Emissão do DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.USUARIO_EMISSOR IS 'Usuário que Emitiu o DARE. Quando for pelo sistema será o CPF ou CNPJ da pessoa que está logada no Sistema e quando for emitido pelo Portal ficará como Usuário FIXO "INTERNET"';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.QUANTIDADE_DEBITOS IS 'Quantidade de Débitos Relacionados na tabela TA_DARE_DETALHE.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.VALOR_TOTAL_DARE IS 'Valor Total do DARE Emitido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.BARRA_DARE IS 'Código da Barra Gerada e impressa no DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_PAGO IS 'Data do Processamento do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DARE_DETALHE (
  ID_NOSSO_NUMERO_DARE     number(15) CONSTRAINT NN_DARE_DETALHE1 NOT NULL, 
  ID_SEQ_DARE_DETALHE      number(6) CONSTRAINT NN_DARE_DETALHE2 NOT NULL, 
  ID_RECEITA               number(4) CONSTRAINT NN_DARE_DETALHE3 NOT NULL, 
  ID_SUBCODIGO             number(3), 
  OBSERVACAO               varchar2(1000), 
  PERIODO_REFERENCIA       number(6) CONSTRAINT NN_DARE_DETALHE4 NOT NULL, 
  NUMERO_DOCUMENTO         number(16), 
  NUMERO_PARCELA           number(3), 
  VALOR_IMPOSTO            number(14, 2), 
  VALOR_CORRECAO_MONETARIA number(14, 2), 
  VALOR_MULTA              number(14, 2), 
  VALOR_REDUCAO_MULTA      number(14, 2), 
  VALOR_JUROS              number(14, 2), 
  VALOR_REDUCAO_JUROS      number(14, 2), 
  VALOR_TAXA               number(14, 2), 
  VALOR_TOTAL              number(14, 2) CONSTRAINT NN_DARE_DETALHE5 NOT NULL, 
  INFORMADO_CONTRIBUINTE   number(1), 
  ID_PESSOA_REFERENCIADA   number(14), 
  TIPO_PESSOA_REFERENCIADA number(1), 
  ID_CONTA_CORRENTE        number(15), 
  ID_MUNICIPIO             number(7),
  USUARIO_INSERCAO         varchar2(30) CONSTRAINT NN_DARE_DETALHE6 NOT NULL, 
  DATA_INSERCAO            timestamp CONSTRAINT NN_DARE_DETALHE7 NOT NULL, 
  USUARIO_ALTERACAO        varchar2(30), 
  DATA_ALTERACAO           timestamp, 
  REGISTRO_EXCLUIDO        char(1) default 'N' CONSTRAINT NN_DARE_DETALHE8 NOT NULL, 
  USUARIO_EXCLUSAO         varchar2(30), 
  DATA_EXCLUSAO            timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT PK_DARE_DETALHE PRIMARY KEY (ID_NOSSO_NUMERO_DARE, ID_SEQ_DARE_DETALHE);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE2 CHECK (ID_NOSSO_NUMERO_DARE > 0 );
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE3 CHECK (to_number(substr(to_char(ID_NOSSO_NUMERO_DARE),1,4)) >= 2016);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE4 CHECK (to_number(substr(to_char(ID_NOSSO_NUMERO_DARE),5,1)) in (1,2));
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE5 CHECK (ID_SEQ_DARE_DETALHE >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE6 CHECK (to_number(substr(to_char(PERIODO_REFERENCIA),1,4)) >= 1988);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE7 CHECK (to_number(substr(to_char(PERIODO_REFERENCIA),5,2)) between 1 and 12);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE8 CHECK (VALOR_IMPOSTO IS NULL OR VALOR_IMPOSTO >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE9 CHECK (VALOR_CORRECAO_MONETARIA IS NULL OR VALOR_CORRECAO_MONETARIA >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE10 CHECK (VALOR_MULTA IS NULL OR VALOR_MULTA >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE11 CHECK (VALOR_REDUCAO_MULTA IS NULL OR VALOR_REDUCAO_MULTA >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE12 CHECK (VALOR_JUROS IS NULL OR VALOR_JUROS >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE13 CHECK (VALOR_REDUCAO_JUROS IS NULL OR VALOR_REDUCAO_JUROS >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE14 CHECK (VALOR_TAXA IS NULL OR VALOR_TAXA >= 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE15 CHECK (VALOR_TOTAL > 0);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE16 CHECK (INFORMADO_CONTRIBUINTE IS NULL OR INFORMADO_CONTRIBUINTE = 1);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT CK_DARE_DETALHE17 CHECK (TIPO_PESSOA_REFERENCIADA between 1 and 4);
  
  
COMMENT ON TABLE SEFAZ_ARR.TA_DARE_DETALHE IS 'Tabela Detalhe contendo todos os débitos que foram selecionados no momento da emissão do DARE.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_NOSSO_NUMERO_DARE IS 'Número Sequencial gerado por ano para identificação do DARE emitido nos sistemas da SEFAZ-TO. Formato de AAAAI0000000000, AAAA - Ano de Geração da Sequenciai, I - 1 - Emitido pelo SIAT, 2 - Emitido pela Internet. 0000000000 - Sequencial gerado por Ano.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_SEQ_DARE_DETALHE IS 'Sequencial incrementado por cada registro que foi vinculado ao ID_NOSSO_NUMERO_DARE. Exemplo : ID_NOSSO_NUMERO foi gerado com 2 Receitas de Tributos de Débitos, onde um terá  a sequencia 1 e o outro tera sequencia 2.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_RECEITA IS 'Código de Receita para quitação do Débito';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_SUBCODIGO IS 'SubCodigo Alinea da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.OBSERVACAO IS 'Informações Complementares';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.PERIODO_REFERENCIA IS 'Período de Referência do Débito';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.NUMERO_DOCUMENTO IS 'Número do Documento, podendo ser um Auto, Parcelamento e etc...';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.NUMERO_PARCELA IS 'Número da Parcela do IPVA ou Parcelamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_IMPOSTO IS 'Valor do Imposto a pagar';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_CORRECAO_MONETARIA IS 'Valor Atualização Monetária a Pagar';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_MULTA IS 'Valor da Multa a Pagar';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_REDUCAO_MULTA IS 'Valor das Reduções Multas';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_JUROS IS 'Valor do Juros a Pagar';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_REDUCAO_JUROS IS 'Valor das Reduções Juros';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_TAXA IS 'Valor da Taxa a Pagar';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.VALOR_TOTAL IS 'Valor Total a Pagar = Valor_Imposto + Valor_Correcao_Monetaria + ( Valor MUlta - VAlor_Reducao_MUlta ) + ( Valor Juros - Valor_reducao_Juros ) + Valor_Taxa';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.INFORMADO_CONTRIBUINTE IS 'Valor Informado pelo Contribuinte 1 - SIM , NULL - Gerado pelo DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_PESSOA_REFERENCIADA IS 'Pessoa Referenciada no Dare responsável pela conta corrente que irá abater o Débito, Podendo ser um CPF, CNPJ, Inscrição Estadual ou RENAVAN';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.TIPO_PESSOA_REFERENCIADA IS 'Tipo de Pessoa Referenciada, 1 - Inscrição Estadual, 2 - CNPJ, 3 - CPF, 4 - RENAVAM';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_CONTA_CORRENTE IS 'Número da Chave Primárias das Contas Correntes dos Contribuintes';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.ID_MUNICIPIO IS 'Código do Município que será prenchido sempre que for de uma receita do imposto IPVA';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DARE_DETALHE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA (
  ID_TIPO_PEDIDO 			number(2) CONSTRAINT NN_PEDIDO_RECEITA1 NOT NULL, 
  ID_RECEITA     			number(4) CONSTRAINT NN_PEDIDO_RECEITA2 NOT NULL, 
  ID_SUBCODIGO   			number(3) CONSTRAINT NN_PEDIDO_RECEITA3 NOT NULL, 
  SITUACAO       			number(1) CONSTRAINT NN_PEDIDO_RECEITA4 NOT NULL,
  USUARIO_INSERCAO          varchar2(30) CONSTRAINT NN_PEDIDO_RECEITA5 NOT NULL, 
  DATA_INSERCAO             timestamp CONSTRAINT NN_PEDIDO_RECEITA6 NOT NULL, 
  USUARIO_ALTERACAO         varchar2(30), 
  DATA_ALTERACAO            timestamp, 
  REGISTRO_EXCLUIDO         char(1) default 'N' CONSTRAINT NN_PEDIDO_RECEITA7 NOT NULL, 
  USUARIO_EXCLUSAO          varchar2(30), 
  DATA_EXCLUSAO             timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA ADD CONSTRAINT PK_PEDIDO_RECEITA PRIMARY KEY (ID_TIPO_PEDIDO,ID_RECEITA,ID_SUBCODIGO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA ADD CONSTRAINT CK_PEDIDO_RECEITA1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA ADD CONSTRAINT CK_PEDIDO_RECEITA2 CHECK (SITUACAO IN (1,2));


COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA IS 'Tabela que relaciona as receita que não estarão sujeitas a restituições e correções de pagamentos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária, 4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.ID_RECEITA IS 'Código de Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.ID_SUBCODIGO IS 'Sub Código da Receita, caso a Receita não exiga informar zero para grava na PK';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.SITUACAO IS 'Situação : 1 - ATIVO, 2 - CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RECEITA.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA (
  ID_PEDIDO          		number(10) CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA1 NOT NULL, 
  ID_CTACTE          		number(15) CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA2 NOT NULL, 
  PERIODO_REFERENCIA 		number(6) CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA3 NOT NULL, 
  CONTA_CORRENTE     		number(2) CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA4 NOT NULL, 
  DOCUMENTO          		number(15),
  USUARIO_INSERCAO          varchar2(30) CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA5 NOT NULL, 
  DATA_INSERCAO             timestamp CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA6 NOT NULL, 
  USUARIO_ALTERACAO         varchar2(30), 
  DATA_ALTERACAO            timestamp, 
  REGISTRO_EXCLUIDO         char(1) default 'N' CONSTRAINT NN_PEDIDO_CONTA_TRIBUTARIA7 NOT NULL, 
  USUARIO_EXCLUSAO          varchar2(30), 
  DATA_EXCLUSAO             timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA ADD CONSTRAINT PK_PEDIDO_CONTA_TRIBUTARIA PRIMARY KEY (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA ADD CONSTRAINT CK_PEDIDO_CONTA_TRIBUTARIA1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));


COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA IS 'Tabela que identifica a conta corrente tributária quando a solicitação de restituição for de ação em crédito na conta do contribuinte.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.ID_CTACTE IS 'Número de Identificação da Conta Corrente';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.PERIODO_REFERENCIA IS 'Período de Referência da Conta Corrente';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.CONTA_CORRENTE IS 'Número da Conta Corrente. Ex: 1 - Declarão de ICMS NOrmal, 2- Declaração de ICMS ST';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.DOCUMENTO IS 'Número do Documento : Parcelamento, Declaração, Auto de Infração e etc..';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER (
  ID_EXIGENCIA        number(2) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER1 NOT NULL, 
  ID_PARECER          number(10) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER2 NOT NULL, 
  DESCRICAO_EXIGENCIA varchar2(200) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER3 NOT NULL, 
  DATA_EXIGENCIA      date CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER4 NOT NULL, 
  SITUACAO_EXIGENCIA  number(1) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER5 NOT NULL, 
  ARQUIVO_EXIGENCIA   blob, 
  DATA_RETORNO        date, 
  RESPOSTA_RETORNO    varchar2(200) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER6 NOT NULL, 
  ARQUIVO_RESPOSTA    blob, 
  DATA_RESPOSTA       date,
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER7 NOT NULL, 
  DATA_INSERCAO       timestamp CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER8 NOT NULL, 
  USUARIO_ALTERACAO   varchar2(30), 
  DATA_ALTERACAO      timestamp, 
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_PEDIDO_EXIGENCIA_PARECER9 NOT NULL, 
  USUARIO_EXCLUSAO    varchar2(30), 
  DATA_EXCLUSAO       timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER ADD CONSTRAINT PK_PEDIDO_EXIGENCIA_PARECER PRIMARY KEY (ID_EXIGENCIA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER ADD CONSTRAINT CK_PEDIDO_EXIGENCIA_PARECER1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));


 
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER IS 'Tabela de Exigências de Parecer. Ocorre quando um Solicitante deixa de fornecer algo ou sua solicitação não foi compreendia por parte de quem está realizando o parecer.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.ID_EXIGENCIA IS 'Sequencial da Exigência de Parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.ID_PARECER IS 'Sequencial de Parecer da Área.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DESCRICAO_EXIGENCIA IS 'Descrição da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_EXIGENCIA IS 'Data da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.SITUACAO_EXIGENCIA IS 'Situação da Exigência: 1 -Exigências Solicitadas, 2 -Exigências Respondidas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.ARQUIVO_EXIGENCIA IS 'Arquivo com as Exigências Solicitadas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_RETORNO IS 'Data do Retorno da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.RESPOSTA_RETORNO IS 'Resposta da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.ARQUIVO_RESPOSTA IS 'Arquivo de Retorno da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_RESPOSTA IS 'Data da Resposta da Exigência';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';

CREATE TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS (
  ID_RECEITA  		  number(4) CONSTRAINT NN_RECEITAS_CONVENIOS1 NOT NULL, 
  ID_CONVENIO 		  number(10) CONSTRAINT NN_RECEITAS_CONVENIOS2 NOT NULL,
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_RECEITAS_CONVENIOS3 NOT NULL, 
  DATA_INSERCAO       timestamp CONSTRAINT NN_RECEITAS_CONVENIOS4 NOT NULL, 
  USUARIO_ALTERACAO   varchar2(30), 
  DATA_ALTERACAO      timestamp, 
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_RECEITAS_CONVENIOS5 NOT NULL, 
  USUARIO_EXCLUSAO    varchar2(30), 
  DATA_EXCLUSAO       timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS ADD CONSTRAINT PK_RECEITAS_CONVENIOS PRIMARY KEY (ID_RECEITA,ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS ADD CONSTRAINT CK_RECEITAS_CONVENIOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));

  
COMMENT ON TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS IS 'Tabela de Relacionamento entre Receitas e Convênios Bancários';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.ID_CONVENIO IS 'Código do Convênio Bancário que permite o recebimento de Receitas por Arquivos Bancários.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_CONVENIOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS (
  ID_SUBCODIGO        number(3) CONSTRAINT NN_RECEITAS_TAXAS1 NOT NULL, 
  ID_RECEITA          number(4) CONSTRAINT NN_RECEITAS_TAXAS2 NOT NULL, 
  SUBCODIGO           varchar2(4) CONSTRAINT NN_RECEITAS_TAXAS3 NOT NULL, 
  DESCRICAO           varchar2(200) CONSTRAINT NN_RECEITAS_TAXAS4 NOT NULL, 
  UNIDADE             varchar2(10) CONSTRAINT NN_RECEITAS_TAXAS5 NOT NULL, 
  VALOR_UNITARIO      number(6, 2) CONSTRAINT NN_RECEITAS_TAXAS6 NOT NULL, 
  VALOR_LIMITE        number(6, 2), 
  VALOR_ACRESCIMO     number(6, 2), 
  SITUACAO            number(1) CONSTRAINT NN_RECEITAS_TAXAS7 NOT NULL, 
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_RECEITAS_TAXAS8 NOT NULL, 
  DATA_INSERCAO       timestamp CONSTRAINT NN_RECEITAS_TAXAS9 NOT NULL, 
  USUARIO_ALTERACAO   varchar2(30), 
  DATA_ALTERACAO      timestamp, 
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_RECEITAS_TAXAS10 NOT NULL, 
  USUARIO_EXCLUSAO    varchar2(30), 
  DATA_EXCLUSAO       timestamp
);
  
 ALTER TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS ADD CONSTRAINT PK_RECEITAS_TAXAS PRIMARY KEY (ID_SUBCODIGO,ID_RECEITA);
 ALTER TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS ADD CONSTRAINT CK_RECEITAS_TAXAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
 ALTER TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS ADD CONSTRAINT CK_RECEITAS_TAXAS2 CHECK (VALOR_UNITARIO > 0);
 ALTER TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS ADD CONSTRAINT CK_RECEITAS_TAXAS3 CHECK (SITUACAO in (1,2));

  
COMMENT ON TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS IS 'Tabela de Relação das Taxas por Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.ID_SUBCODIGO IS 'Sequencial Interno Gerado por uma Sequencia.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.SUBCODIGO IS 'Código do SubCodigo';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.DESCRICAO IS 'Descrição da Taxa ou SubCódigo';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.UNIDADE IS 'Unidade de Medida';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.VALOR_UNITARIO IS 'Valor Unitário';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.VALOR_LIMITE IS 'Valor Máximo a Cobrar';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.VALOR_ACRESCIMO IS 'Valor Acréscimos';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.SITUACAO IS 'Situação do SubCódigo : 1- ATIVO, 2 - INATIVO ;';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_TAXAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS (
  ID_CODIGO_REJEICAO  number(2) CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS1 NOT NULL, 
  MOTIVO_REJEICAO     varchar2(200) CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS2 NOT NULL, 
  SITUACAO            number(1) CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS3 NOT NULL,
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS4 NOT NULL, 
  DATA_INSERCAO       timestamp CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS5 NOT NULL, 
  USUARIO_ALTERACAO   varchar2(30), 
  DATA_ALTERACAO      timestamp, 
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_TIPO_REJEICAO_ARQUIVOS6 NOT NULL, 
  USUARIO_EXCLUSAO    varchar2(30), 
  DATA_EXCLUSAO       timestamp
);
  
 ALTER TABLE SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS ADD CONSTRAINT PK_TIPO_REJEICAO_ARQUIVOS PRIMARY KEY (ID_CODIGO_REJEICAO);
 ALTER TABLE SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS ADD CONSTRAINT CK_TIPO_REJEICAO_ARQUIVOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
 ALTER TABLE SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS ADD CONSTRAINT CK_TIPO_REJEICAO_ARQUIVOS2 CHECK (SITUACAO IN (1, 2));

  
COMMENT ON TABLE SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS IS 'Tabela de Tipos de Rejeição de Detalhe das Linhas';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.ID_CODIGO_REJEICAO IS 'A ser preenchido pela SEFAZ em caso de devolução do arq: Código de erros no registro Detalhe:
Código  Descrição
01 - Data de Juliana de Arrecadação Inferior a Data de Recepção do arquivo ou inválida !
02 - Código NOSSO NUMERO Não Localizado  
03 - Código do Banco Arrecadador inválido ou Não Localizado
04 - Código da Agência Arrecadadora inválida ou Não Localizada
05 - Tipo de Valor Informativo inválido
06 - Tipo de documento inválido
07 - Tipo de Receita inválido
08 - Tipo de Documento não cadastrado
09 - Tipo de Receita não cadastrado
10 - Tipo de Valor informativo não cadastrado
11 - Versão da Barra Recepcionada Diferente da Atual Homologada
12 - CPF/CNPJ/Inscrição Estadual/ Renavan não Localizado
13 - Sistema da SEFAZ, gerador da Barra não Identificado
14 - NSU Duplicado
15 - Erro Não Classificado, Verificar Layout da BARRA
16 - Data do Repasse Financeiro inválido
17 - Data do Repasse Financ. maior que a data corrente
18 - Data do Repasse Financ. menor que dta arrecadação
19 - Quantidade dos Documentos Repassados divergente do Obtido na Arrecadação
20 - Valor do Lançamento Divergente do Valor Informativo Acumulado
21 - Numero de Controle do STR já foi Processado
22 - Código do Convênio Bancário  não Localizado
23 - Código da SEFAZ no Arquivo STR20 diferente de 027';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.MOTIVO_REJEICAO IS 'Descrição da Rejeição';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.SITUACAO IS '1 - ATIVO, 2 - CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO (
  ID_RESUMO_ARRECADACAO number(10) CONSTRAINT NN_RESUMO_ARRECADACAO1 NOT NULL, 
  ID_ARRECADACAO        number(10) CONSTRAINT NN_RESUMO_ARRECADACAO2 NOT NULL, 
  DATA_ARRECADACAO      date, 
  VALOR_RECEITA         number(14, 2) CONSTRAINT NN_RESUMO_ARRECADACAO3 NOT NULL, 
  ID_RECEITA            number(4) CONSTRAINT NN_RESUMO_ARRECADACAO4 NOT NULL, 
  ID_MUNICIPIO          number(7), 
  CNAE                  number(8), 
  ID_BANCO              number(4), 
  ID_AGENCIA            number(6),
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_RESUMO_ARRECADACAO5 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_RESUMO_ARRECADACAO6 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_RESUMO_ARRECADACAO7 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

 ALTER TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO ADD CONSTRAINT PK_RESUMO_ARRECADACAO PRIMARY KEY (ID_RESUMO_ARRECADACAO);
 ALTER TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO ADD CONSTRAINT CK_RESUMO_ARRECADACAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
 ALTER TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO ADD CONSTRAINT CK_RESUMO_ARRECADACAO2 CHECK ( trunc(DATA_ARRECADACAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
 
  
COMMENT ON TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO IS 'Tabela de Resumo da Arrecadação que permite a extração dos Relatórios de prestação de contas com o Estado.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_RESUMO_ARRECADACAO IS 'Sequencial da Tabela de Resumo de Fechamento da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_ARRECADACAO IS 'Sequencial de Fechamento da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.DATA_ARRECADACAO IS 'Data do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.VALOR_RECEITA IS 'Valor Total da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_RECEITA IS 'Código de Receita da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_MUNICIPIO IS 'Código do Municipio';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.CNAE IS 'Codigo da Atividade Economica';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_BANCO IS 'Codigo do Banco';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.ID_AGENCIA IS 'Código da Agência';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RESUMO_ARRECADACAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO (
  ID_ARRECADACAO        number(10) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO1 NOT NULL, 
  DATA_FECHAMENTO       date CONSTRAINT NN_ESTATISTICAS_ARRECADACAO2 NOT NULL, 
  PERIODO_ARREC         number(6) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO3 NOT NULL, 
  USUARIO_FECHAMENTO    number(11) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO4 NOT NULL, 
  QUANTIDADE_DOCS       number(8) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO5 NOT NULL, 
  TOTAL_ARRECADADO      number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO6 NOT NULL, 
  VALOR_PRINCIPAL       number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO7 NOT NULL, 
  VALOR_MULTAS          number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO8 NOT NULL, 
  VALOR_JUROS           number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO9 NOT NULL, 
  VALOR_CORRECAO        number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO10 NOT NULL, 
  VALOR_TAXAS           number(14, 2) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO11 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_ESTATISTICAS_ARRECADACAO12 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_ESTATISTICAS_ARRECADACAO13 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_ESTATISTICAS_ARRECADACAO14 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT PK_ESTATISTICAS_ARRECADACAO PRIMARY KEY (ID_ARRECADACAO);
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO2 CHECK ( trunc(DATA_FECHAMENTO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO3 CHECK ( TOTAL_ARRECADADO >= 0 );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO4 CHECK ( VALOR_PRINCIPAL >= 0  );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO5 CHECK ( VALOR_MULTAS >= 0  );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO6 CHECK ( VALOR_JUROS >= 0  );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO7 CHECK ( VALOR_CORRECAO >= 0  );
 ALTER TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO ADD CONSTRAINT CK_ESTATISTICAS_ARRECADACAO8 CHECK ( VALOR_TAXAS >= 0  );

  
COMMENT ON TABLE SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO IS 'Tabela de Fechamento de Arrecadação. Utilizada para retirar os relatórios para prestação de contas com o Estado.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.ID_ARRECADACAO IS 'Sequencial de Fechamento da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.DATA_FECHAMENTO IS 'Data de Fechamento da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.PERIODO_ARREC IS 'Periodo de Referência da Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.USUARIO_FECHAMENTO IS 'Usuário que Fechou a Arrecadação';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.QUANTIDADE_DOCS IS 'Quantidade de Documentos';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.TOTAL_ARRECADADO IS 'Total Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.VALOR_PRINCIPAL IS 'Valor Principal Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.VALOR_MULTAS IS 'Valor Multas Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.VALOR_JUROS IS 'Valor Juros Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.VALOR_CORRECAO IS 'Valor Correção Monetária Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO (
  ID_PEDIDO             number(10) CONSTRAINT NN_PEDIDO_RESTITUICAO1 NOT NULL, 
  ID_BANCO              number(4) CONSTRAINT NN_PEDIDO_RESTITUICAO2 NOT NULL, 
  ID_AGENCIA            number(6) CONSTRAINT NN_PEDIDO_RESTITUICAO3 NOT NULL, 
  TIPO_CONTA            number(1) CONSTRAINT NN_PEDIDO_RESTITUICAO4 NOT NULL, 
  CONTA_CORRENTE        varchar2(12) CONSTRAINT NN_PEDIDO_RESTITUICAO5 NOT NULL, 
  CPFCNPJ               number(14) CONSTRAINT NN_PEDIDO_RESTITUICAO6 NOT NULL, 
  NOME_RAZAO            varchar2(150) CONSTRAINT NN_PEDIDO_RESTITUICAO7 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_RESTITUICAO8 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_RESTITUICAO9 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_RESTITUICAO10 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO ADD CONSTRAINT PK_PEDIDO_RESTITUICAO PRIMARY KEY (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO ADD CONSTRAINT CK_PEDIDO_RESTITUICAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO ADD CONSTRAINT CK_PEDIDO_RESTITUICAO2 CHECK (TIPO_CONTA IN (1,2)); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO IS 'Tabela de Informações Bancárias que estão sujeitas a restituições de valores';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.ID_AGENCIA IS 'Código da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.TIPO_CONTA IS '1-Conta Corrrente, 2 - Poupança';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.CONTA_CORRENTE IS 'Número da Conta do Solicitante';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.CPFCNPJ IS 'CPF ou CNPJ da Conta do Solicitante';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.NOME_RAZAO IS 'Nome ou Razão Social do Solicitante';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_RESTITUICAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES (
  ID_ACOES       		number(2) CONSTRAINT NN_PEDIDO_TIPO_ACOES1 NOT NULL, 
  ID_TIPO_PEDIDO 		number(2) CONSTRAINT NN_PEDIDO_TIPO_ACOES2 NOT NULL, 
  TIPO_ACAO      		number(1) CONSTRAINT NN_PEDIDO_TIPO_ACOES3 NOT NULL, 
  SITUACAO       		number(1) CONSTRAINT NN_PEDIDO_TIPO_ACOES4 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_TIPO_ACOES5 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_TIPO_ACOES6 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_TIPO_ACOES7 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES ADD CONSTRAINT PK_PEDIDO_TIPO_ACOES PRIMARY KEY (ID_ACOES);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES ADD CONSTRAINT CK_PEDIDO_TIPO_ACOES1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES ADD CONSTRAINT CK_PEDIDO_TIPO_ACOES2 CHECK (TIPO_ACAO between 1 and 5);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES ADD CONSTRAINT CK_PEDIDO_TIPO_ACOES3 CHECK (SITUACAO in (1,2)); 
  
  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES IS 'Tabela de Tipo de Ações que podem ocorrer com a solicitação do pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.ID_ACOES IS 'Sequência de Tipo de Ações';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária, 4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.TIPO_ACAO IS '1- CORRIGIR PAGAMENTO, 2 - CREDITAR EM CONTA TRIBUTÁRIA, 3 - CRÉDITAR EM CONTA CONTRIBUINTE, 4 - ESTORNAR PAGAMENTO ( INSTITUIÇÃO  BANCÁRIA )';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.SITUACAO IS 'Situação : 1 - ATIVO, 2 - CANCELADA';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR (
  ID_PEDIDO_AREA 		number(3) CONSTRAINT NN_PEDIDO_AREAS_FAIXA_VALOR1 NOT NULL, 
  VALOR_INICIAL  		number(14, 2) CONSTRAINT NN_PEDIDO_AREAS_FAIXA_VALOR2 NOT NULL, 
  VALOR_FINAL    		number(14, 2),
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_AREAS_FAIXA_VALOR3 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_AREAS_FAIXA_VALOR4 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_AREAS_FAIXA_VALOR5 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR ADD CONSTRAINT PK_PEDIDO_AREAS_FAIXA_VALOR PRIMARY KEY (ID_PEDIDO_AREA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR ADD CONSTRAINT CK_PEDIDO_AREAS_FAIXA_VALOR1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR ADD CONSTRAINT CK_PEDIDO_AREAS_FAIXA_VALOR2 CHECK (VALOR_INICIAL >=0); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR ADD CONSTRAINT CK_PEDIDO_AREAS_FAIXA_VALOR3 CHECK (VALOR_FINAL is null or VALOR_FINAL >=0); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR IS 'Tabela de Faixa de Valores permitida para área dar parecer sobre o tipo de pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.ID_PEDIDO_AREA IS 'Sequencial da Parametrização por Áreas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.VALOR_INICIAL IS 'Valor Minimo permitido para área dar parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.VALOR_FINAL IS 'Valor Máximo permitido para área dar parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES (
  ID_CAMPO_PEDIDO   	number(2) CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES1 NOT NULL, 
  ID_ACOES          	number(2) CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES2 NOT NULL, 
  TIPO_CAMPO        	number(2) CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES3 NOT NULL, 
  CAMPO_OBRIGATORIO 	number(1) CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES4 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES5 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES6 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_TA_PEDIDO_CAMPOS_ACOES7 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES ADD CONSTRAINT PK_PEDIDO_CAMPOS_ACOES PRIMARY KEY (ID_CAMPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES ADD CONSTRAINT CK_PEDIDO_CAMPOS_ACOES1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES ADD CONSTRAINT CK_PEDIDO_CAMPOS_ACOES3 CHECK (CAMPO_OBRIGATORIO in (1,2));


  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES IS 'Tabela de Parametrização com os tipos de campos sujeitos a preenchimento no momento da sollcitação para atender o pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.ID_CAMPO_PEDIDO IS '1 - Inscrição Estadual, 2 - CPF/CNPJ, 3 - Documento, 4 - Período de Referência, 5 - Renavan, 6 - Código de Receita, 7 - Municipio, 8 - Nro da Parcela';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.ID_ACOES IS 'Sequência de Tipo de Ações';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.TIPO_CAMPO IS 'Tipo do Campo:1 - Nro. Documento,2 - Periodo de Referência,3 -Nro. Parcela,4 -Inscrição Estadual,5 - CPF/CNPJ,6  Renavan,7 -Valor Total,8 - Numero Autenticação,9 - Valor Autenticado,10 -NSU,11 - Numero Pedido Indeferido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.CAMPO_OBRIGATORIO IS 'Exige o Preenchimento na Solicitação. 1- SIM, 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';

CREATE TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS (
  ID_CAMPO_PEDIDO      	number(2) CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS1 NOT NULL, 
  ID_PEDIDO_PAGOS  		number(10) CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS2 NOT NULL, 
  VALOR_SOLICITADO 		varchar2(20) CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS3 NOT NULL, 
  VALOR_HOMOLOGADO 		varchar2(20),
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS4 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS5 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_CAMPOS_INFORMADOS6 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS ADD CONSTRAINT PK_PEDIDO_CAMPOS_INFORMADOS PRIMARY KEY (ID_CAMPO_PEDIDO, ID_PEDIDO_PAGOS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS ADD CONSTRAINT CK_PEDIDO_CAMPOS_INFORMADOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS IS 'Tabela de Campos que foram parametrizados para ser informados no momento da solicitação do tipo do pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.ID_CAMPO_PEDIDO IS 'Sequêncial do Campo';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.ID_PEDIDO_PAGOS IS 'Sequêncial dos Tipos de Campos sujeitos a alteração ou restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.VALOR_SOLICITADO IS 'Valor Informado na Solicitação';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.VALOR_HOMOLOGADO IS 'Valor Homologado no Parecer Final';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';



CREATE TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS (
  ID_PEDIDO_PAGOS 		number(10) CONSTRAINT NN_TA_PEDIDO_PAGOS1 NOT NULL, 
  ID_PEDIDO       		number(10) CONSTRAINT NN_TA_PEDIDO_PAGOS2 NOT NULL, 
  ID_BDAR_TPAR    		number(15) CONSTRAINT NN_TA_PEDIDO_PAGOS3 NOT NULL, 
  ORDEM_LOTE      		number(3) CONSTRAINT NN_TA_PEDIDO_PAGOS4 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_TA_PEDIDO_PAGOS5 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_TA_PEDIDO_PAGOS6 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_TA_PEDIDO_PAGOS7 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS ADD CONSTRAINT PK_PEDIDO_PAGOS PRIMARY KEY (ID_PEDIDO_PAGOS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS ADD CONSTRAINT CK_PEDIDO_PAGOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS IS 'Tabela de Referência dos Pagamentos que foram selecionados para Correção ou Restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.ID_PEDIDO_PAGOS IS 'Código Sequencial dos Pagamentos Selecionados';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.ID_BDAR_TPAR IS 'Numero do TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.ORDEM_LOTE IS 'Sequencia de pagamentos de até 999máx.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_PAGOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_AREAS (
  ID_PEDIDO_AREA          number(3) CONSTRAINT NN_PEDIDO_AREAS1 NOT NULL, 
  ID_TIPO_PEDIDO          number(2) CONSTRAINT NN_PEDIDO_AREAS2 NOT NULL, 
  ID_DELEGACIA            number(5) CONSTRAINT NN_PEDIDO_AREAS3 NOT NULL, 
  ID_UNIDADE_DELEGACIA    number(5), 
  PARECER_FINAL           number(1), 
  SITUACAO                number(1) CONSTRAINT NN_PEDIDO_AREAS4 NOT NULL, 
  ORDEM_PARECER           number(2) CONSTRAINT NN_PEDIDO_AREAS5 NOT NULL, 
  EXIGE_PARECER           number(1), 
  QUANTIDADE_DIAS_ANALISE number(2) CONSTRAINT NN_PEDIDO_AREAS6 NOT NULL, 
  PERMITE_ENCAMINHAMENTO  number(1), 
  EXIGE_SUPERVISOR        number(1),
  USUARIO_INSERCAO        varchar2(30) CONSTRAINT NN_PEDIDO_AREAS7 NOT NULL, 
  DATA_INSERCAO           timestamp  CONSTRAINT NN_PEDIDO_AREAS8 NOT NULL, 
  USUARIO_ALTERACAO       varchar2(30), 
  DATA_ALTERACAO          timestamp, 
  REGISTRO_EXCLUIDO       char(1) default 'N' CONSTRAINT NN_PEDIDO_AREAS9 NOT NULL, 
  USUARIO_EXCLUSAO        varchar2(30), 
  DATA_EXCLUSAO           timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT PK_PEDIDO_AREAS PRIMARY KEY (ID_PEDIDO_AREA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT CK_PEDIDO_AREAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT CK_PEDIDO_AREAS2 CHECK (EXIGE_PARECER is null or EXIGE_PARECER IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT CK_PEDIDO_AREAS3 CHECK (QUANTIDADE_DIAS_ANALISE >=0); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT CK_PEDIDO_AREAS4 CHECK (PERMITE_ENCAMINHAMENTO IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT CK_PEDIDO_AREAS5 CHECK (EXIGE_SUPERVISOR IN (1,2)); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_AREAS IS 'Tabela de Parametrização das Áreas que estão sujeitas a análise de pedidos';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.ID_PEDIDO_AREA IS 'Sequencial da Parametrização por Áreas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária,4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.ID_DELEGACIA IS 'Número da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.ID_UNIDADE_DELEGACIA IS 'Código das Unidade Regionais e ou Postos Fiscais que estão relacionadas com as Delegacias Fazendárias';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.PARECER_FINAL IS 'área responsável pela o último parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.ORDEM_PARECER IS 'Sequência que será encminhada para as áreas que estarão dando parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.EXIGE_PARECER IS 'Exige Parecer ou somente Ciência: 1- SIM , 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.QUANTIDADE_DIAS_ANALISE IS 'Quantidade de Dias que a área dispõe para analisar o pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.PERMITE_ENCAMINHAMENTO IS 'Permite a Área encaminhar para outra área. 1-SIM , 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.EXIGE_SUPERVISOR IS 'Verifica se Exige Avaliação do Supervisor da Area. 1-SIM, 2 - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES (
  ID_PEDIDO_AREA 		number(3) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES1 NOT NULL, 
  ID_SERVIDOR    		number(11) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES2 NOT NULL, 
  EMAIL_SERVIDOR 		varchar2(150) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES3 NOT NULL, 
  SITUACAO       		number(1) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES4 NOT NULL, 
  SUPERVISOR     		number(1) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES5 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES6 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES7 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_AREAS_SERVIDORES8 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);


ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES ADD CONSTRAINT PK_PEDIDO_AREAS_SERVIDORES PRIMARY KEY (ID_PEDIDO_AREA, ID_SERVIDOR);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES ADD CONSTRAINT CK_PEDIDO_AREAS_SERVIDORES1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES ADD CONSTRAINT CK_PEDIDO_AREAS_SERVIDORES2 CHECK (SITUACAO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES ADD CONSTRAINT CK_PEDIDO_AREAS_SERVIDORES3 CHECK (SUPERVISOR IN (1,2)); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES IS 'Tabela de Parametrização das áreas e servidores fazendários que estarão habilitados a dar parecer por tipo de pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.ID_PEDIDO_AREA IS 'Sequencial da Parametrização por Áreas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.ID_SERVIDOR IS 'Código do Usuário que está habilitado a dar parecer.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.EMAIL_SERVIDOR IS 'Email do Servidor';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.SITUACAO IS 'Situação do Servidor. 1- Habilitado, 2- Desabilitado';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.SUPERVISOR IS '1-SIm, 2 - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS (
  ID_TIPO_DOCS 			number(2) CONSTRAINT NN_PEDIDO_TIPO_DOCS1 NOT NULL, 
  DESCRICAO    			varchar2(100) CONSTRAINT NN_PEDIDO_TIPO_DOCS2 NOT NULL, 
  SITUACAO     			number(1) CONSTRAINT NN_PEDIDO_TIPO_DOCS3 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_TIPO_DOCS4 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_TIPO_DOCS5 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_TIPO_DOCS6 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS ADD CONSTRAINT PK_PEDIDO_TIPO_DOCS PRIMARY KEY (ID_TIPO_DOCS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS ADD CONSTRAINT CK_PEDIDO_TIPO_DOCS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS ADD CONSTRAINT CK_PEDIDO_TIPO_DOCS2 CHECK (SITUACAO IN (1,2)); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS IS 'Tabela de Tipos de Documentos';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.ID_TIPO_DOCS IS 'Sequêncial de Tipo de Documentos Exigidos';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.DESCRICAO IS 'Descrição do Documento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.SITUACAO IS 'Situação do Documento 1 - SIM , 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS (
  ID_TIPO_PEDIDO  		number(2) CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS1 NOT NULL, 
  ID_TIPO_DOCS    		number(2) CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS2 NOT NULL, 
  DOC_OBRIGATORIO 		number(1) CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS3 NOT NULL, 
  SITUACAO        		number(1) CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS4 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS5 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS6 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_DOCS_EXIGIDOS7 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT PK_PEDIDO_DOCS_EXIGIDOS PRIMARY KEY (ID_TIPO_PEDIDO, ID_TIPO_DOCS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT CK_PEDIDO_DOCS_EXIGIDOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT CK_PEDIDO_DOCS_EXIGIDOS2 CHECK (DOC_OBRIGATORIO IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT CK_PEDIDO_DOCS_EXIGIDOS3 CHECK (SITUACAO IN (1,2)); 
  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS IS 'Tabela de Parametrização com os tipos de Documentos Obrigatórios a serem anexados no momento da solicitação do pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária, 4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.ID_TIPO_DOCS IS 'Sequêncial de Tipo de Documentos Exigidos';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.DOC_OBRIGATORIO IS 'Documento é Obrigatório para o Tipo do Pedido. 1- SIM , 2 - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.SITUACAO IS 'Situação : 1- ATIVO, 2- INATIVO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_DOCS (
  ID_PEDIDO      		number(10) CONSTRAINT NN_PEDIDO_DOCS1 NOT NULL, 
  ID_TIPO_DOCS   		number(2) CONSTRAINT NN_PEDIDO_DOCS2 NOT NULL, 
  ARQUIVO_PEDIDO 		blob,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_DOCS3 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_DOCS4 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_DOCS5 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS ADD CONSTRAINT PK_PEDIDO_DOCS PRIMARY KEY (ID_PEDIDO, ID_TIPO_DOCS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS ADD CONSTRAINT CK_PEDIDO_DOCS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 

 
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_DOCS IS 'Tabela de Documento Anexados ao Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.ID_TIPO_DOCS IS 'Sequêncial de Tipo de Documentos Exigidos';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.ARQUIVO_PEDIDO IS 'Arquivo Anexado';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DOCS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';

CREATE TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER (
  ID_PARECER              number(10) CONSTRAINT NN_PEDIDO_DETALHE_PARECER1 NOT NULL, 
  ID_PEDIDO               number(10) CONSTRAINT NN_PEDIDO_DETALHE_PARECER2 NOT NULL, 
  ID_PEDIDO_AREA          number(3) CONSTRAINT NN_PEDIDO_DETALHE_PARECER3 NOT NULL, 
  ID_SERVIDOR_RECEPCAO    number(11), 
  DATA_INICIO_ANALISE     date, 
  DATA_FIM_ANALISE        date, 
  SITUACAO_ANALISE        number(1) CONSTRAINT NN_PEDIDO_DETALHE_PARECER4 NOT NULL, 
  OBSERVACAO              varchar2(2000), 
  ARQUIVO_ANALISE         blob, 
  ID_AREA_ENCAMINHADA     number(3), 
  ID_SERVIDOR_ENCAMINHADO number(11),
  USUARIO_INSERCAO        varchar2(30) CONSTRAINT NN_PEDIDO_DETALHE_PARECER5 NOT NULL, 
  DATA_INSERCAO           timestamp CONSTRAINT NN_PEDIDO_DETALHE_PARECER6 NOT NULL, 
  USUARIO_ALTERACAO       varchar2(30), 
  DATA_ALTERACAO          timestamp, 
  REGISTRO_EXCLUIDO       char(1) default 'N' CONSTRAINT NN_PEDIDO_DETALHE_PARECER7 NOT NULL, 
  USUARIO_EXCLUSAO        varchar2(30), 
  DATA_EXCLUSAO           timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER ADD CONSTRAINT PK_PEDIDO_DETALHE_PARECER PRIMARY KEY (ID_PARECER);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER ADD CONSTRAINT CK_PEDIDO_DETALHE_PARECER1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER ADD CONSTRAINT CK_PEDIDO_DETALHE_PARECER2 CHECK (SITUACAO_ANALISE between 0 and 3); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER IS 'Tabela de Parecer de áreas por tipo de pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_PARECER IS 'Sequencial de Parecer da Área.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_PEDIDO_AREA IS 'Sequencial da Parametrização por Áreas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_SERVIDOR_RECEPCAO IS 'Matricula do Servidor que está responsável em dar o parecer pela área';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.DATA_INICIO_ANALISE IS 'Data de Inicio da Análise';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.DATA_FIM_ANALISE IS 'Data Final da Análise';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.SITUACAO_ANALISE IS '0-Aguardando Análise, 1- Em Análise, 2-Deferido, 3-Indeferido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.OBSERVACAO IS 'Observação ou Parecer da Área';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ARQUIVO_ANALISE IS 'Arquivo opcional do Parecer da Área';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_AREA_ENCAMINHADA IS 'Informado quando houver solicitação de Parecer para outra Área.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.ID_SERVIDOR_ENCAMINHADO IS 'Código do Usuário que está habilitado a dar parecer.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS (
  ID_TIPO_PEDIDO          number(2) CONSTRAINT NN_PEDIDO_TIPOS1 NOT NULL, 
  DESCRICAO               varchar2(150) CONSTRAINT NN_PEDIDO_TIPOS2 NOT NULL, 
  PARECER_AUTOMATICO      number(1) CONSTRAINT NN_PEDIDO_TIPOS3 NOT NULL, 
  SITUACAO                number(1) CONSTRAINT NN_PEDIDO_TIPOS4 NOT NULL, 
  VALOR_MINIMO            number(14, 2) CONSTRAINT NN_PEDIDO_TIPOS5 NOT NULL, 
  QUANTIDADE_DIAS_ANALISE number(2) CONSTRAINT NN_PEDIDO_TIPOS6 NOT NULL,
  USUARIO_INSERCAO        varchar2(30) CONSTRAINT NN_PEDIDO_TIPOS7 NOT NULL, 
  DATA_INSERCAO           timestamp CONSTRAINT NN_PEDIDO_TIPOS8 NOT NULL, 
  USUARIO_ALTERACAO       varchar2(30), 
  DATA_ALTERACAO          timestamp, 
  REGISTRO_EXCLUIDO       char(1) default 'N' CONSTRAINT NN_PEDIDO_TIPOS9 NOT NULL, 
  USUARIO_EXCLUSAO        varchar2(30), 
  DATA_EXCLUSAO           timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT PK_PEDIDO_TIPOS PRIMARY KEY (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT CK_PEDIDO_TIPOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT CK_PEDIDO_TIPOS2 CHECK (PARECER_AUTOMATICO IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT CK_PEDIDO_TIPOS3 CHECK (SITUACAO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT CK_PEDIDO_TIPOS4 CHECK (VALOR_MINIMO >0); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS ADD CONSTRAINT CK_PEDIDO_TIPOS5 CHECK (QUANTIDADE_DIAS_ANALISE >=0);

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_TIPOS IS 'Tabela de Tipos de Pedidos que estão sujeitos a solicitações de serviços de contribuintes e instituições bancárias';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária, 4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.DESCRICAO IS 'Descrição do Tipo de Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.PARECER_AUTOMATICO IS 'Tipo de Pedido Possue Parecer Automático: 1 - SIM , 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.SITUACAO IS 'Situação do Tipo do Pedido: 1 - ATIVO, 2- CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.VALOR_MINIMO IS 'Valor Minimo para Solicitação do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.QUANTIDADE_DIAS_ANALISE IS 'Quantidade de Dias para Conclusão do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_TIPOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (
  ID_PEDIDO             number(10) CONSTRAINT NN_PEDIDO_SOLICITACAO1 NOT NULL, 
  ID_TIPO_PEDIDO        number(2) CONSTRAINT NN_PEDIDO_SOLICITACAO2 NOT NULL, 
  ID_ACOES              number(2) CONSTRAINT NN_PEDIDO_SOLICITACAO3 NOT NULL, 
  ORIGEM_SOLICITACAO    number(1) CONSTRAINT NN_PEDIDO_SOLICITACAO4 NOT NULL, 
  ID_PESSOA_SOLICITANTE number(14), 
  SITUACAO              number(1) CONSTRAINT NN_PEDIDO_SOLICITACAO5 NOT NULL, 
  DATA_SOLICITACAO      date CONSTRAINT NN_PEDIDO_SOLICITACAO6 NOT NULL, 
  USUARIO_SOLICITACAO   number(14) CONSTRAINT NN_PEDIDO_SOLICITACAO7 NOT NULL, 
  MOTIVO_SOLICITACAO    varchar2(2000) CONSTRAINT NN_PEDIDO_SOLICITACAO8 NOT NULL, 
  DATA_CONCLUSAO        date, 
  USUARIO_CONCLUSAO     number(14), 
  PARECER_FINAL         varchar2(2000), 
  DATA_CANCELAMENTO     date, 
  MOTIVO_CANCELAMENTO   varchar2(200), 
  ID_PEDIDO_ANTERIOR    number(10),
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PEDIDO_SOLICITACAO9 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_PEDIDO_SOLICITACAO10 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PEDIDO_SOLICITACAO11 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT PK_PEDIDO_SOLICITACAO PRIMARY KEY (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT CK_PEDIDO_SOLICITACAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT CK_PEDIDO_SOLICITACAO2 CHECK (ORIGEM_SOLICITACAO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT CK_PEDIDO_SOLICITACAO3 CHECK (SITUACAO between 0 and 5); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO IS 'Tabela de Solicitação de Pedidos de Correçao de Pagamentos e Restituições.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ID_PEDIDO IS 'Código Sequencial do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ID_TIPO_PEDIDO IS 'Codigo do Tipo do Pedido: 1 - Pedido de Correção de Pagamentos, 2 - Pedido de Restituição de Pagamentos, 3 - Pedido de Restituição de Instituição Bancária, 4 - Pedido de Restituição de Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ID_ACOES IS 'Tipo de Ação parametrizado para ser realizado no pedido. Crédito em conta corrente, Crédito em Conta Tributária e etc..';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ORIGEM_SOLICITACAO IS 'Origem da Solicitação: 1- INTERNET, 2- ATENDIMENTO PRESENCIAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ID_PESSOA_SOLICITANTE IS 'Identificação do Solicitante, podendo ser Inscrição Estadual, CPF ou CNPJ';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.SITUACAO IS '0-Aguardando Análise, 1- Em Análise, 2-Deferido, 3-Indeferido, 4-Cancelado, 5-Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_SOLICITACAO IS 'Data da Solicitação do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.USUARIO_SOLICITACAO IS 'Usuário de Solicitação';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.MOTIVO_SOLICITACAO IS 'Motivo da Solicitação do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_CONCLUSAO IS 'Data de Conclusão do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.USUARIO_CONCLUSAO IS 'Usuário que Concluiu o Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.PARECER_FINAL IS 'Parecer Final de Conclusão do Pedido.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_CANCELAMENTO IS 'Data do Cancelamento do Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.MOTIVO_CANCELAMENTO IS 'Motivo de Cancelamento de Pedido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.ID_PEDIDO_ANTERIOR IS 'Pedido Anterior de Referência, informado apenas quando o tipo de pedido for : 4 - Restiuição de Pedidos Viar Recurso';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PEDIDO_SOLICITACAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES (
  ID_GRUPO_CNAE   		number(2) CONSTRAINT NN_TIPO_GRUPOS_CNAES1 NOT NULL, 
  DESCRICAO_GRUPO 		varchar2(100) CONSTRAINT NN_TIPO_GRUPOS_CNAES2 NOT NULL, 
  SITUACAO        		number(1) CONSTRAINT NN_TIPO_GRUPOS_CNAES3 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_TIPO_GRUPOS_CNAES4 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_TIPO_GRUPOS_CNAES5 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_TIPO_GRUPOS_CNAES6 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES ADD CONSTRAINT PK_TIPO_GRUPOS_CNAES PRIMARY KEY (ID_GRUPO_CNAE);  
ALTER TABLE SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES ADD CONSTRAINT CK_TIPO_GRUPOS_CNAES1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES ADD CONSTRAINT CK_TIPO_GRUPOS_CNAES2 CHECK (SITUACAO IN (1,2)); 


COMMENT ON TABLE SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES IS 'Tabela de Grupos de CNAES';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.ID_GRUPO_CNAE IS '1-Agricultura, 2-Pecuária, 3-Agropecuária, 4-Sivilcultura/Explor, 5-Pesca, 6-Industria, 7-Comércio,8-Serviços, 9-Outras Atividades';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.DESCRICAO_GRUPO IS 'Descrição do Grupo de CNAE';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.SITUACAO IS 'Situação do Tipo de grupo : 1 - ATIVO , 2 - CANCELADO ;';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_GRUPOS_CNAE (
  ID_GRUPO_CNAE 		number(2) CONSTRAINT NN_GRUPOS_CNAE1 NOT NULL, 
  CNAE_FISCAL   		number(8) CONSTRAINT NN_GRUPOS_CNAE2 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_GRUPOS_CNAE3 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_GRUPOS_CNAE4 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_GRUPOS_CNAE5 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_GRUPOS_CNAE ADD CONSTRAINT PK_GRUPOS_CNAE PRIMARY KEY (ID_GRUPO_CNAE, CNAE_FISCAL); 
ALTER TABLE SEFAZ_ARR.TA_GRUPOS_CNAE ADD CONSTRAINT CK_GRUPOS_CNAE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
  
COMMENT ON TABLE SEFAZ_ARR.TA_GRUPOS_CNAE IS 'Tabela de Relacionamento entre o Grupo de CNAES e as Atividades Economicas que participam do Grupo';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.ID_GRUPO_CNAE IS '1-Agricultura, 2-Pecuária, 3-Agropecuária, 4-Sivilcultura/Explor, 5-Pesca, 6-Industria, 7-Comércio,8-Serviços, 9-Outras Atividades';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.CNAE_FISCAL IS 'CNAES QUE COMPÕEM OS GRUPOS';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_GRUPOS_CNAE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO (
  ID_REPASSE         	number(10) CONSTRAINT NN_RTC_FINANCEIRO1 NOT NULL, 
  DATA_PROCESSAMENTO 	date, 
  SITUACAO           	number(1) CONSTRAINT NN_RTC_FINANCEIRO2 NOT NULL, 
  ARQUIVO_FINANCEIRO 	blob CONSTRAINT NN_RTC_FINANCEIRO3 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_RTC_FINANCEIRO4 NOT NULL, 
  DATA_INSERCAO         timestamp CONSTRAINT NN_RTC_FINANCEIRO5 NOT NULL, 
  USUARIO_ALTERACAO     varchar2(30), 
  DATA_ALTERACAO        timestamp, 
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_RTC_FINANCEIRO6 NOT NULL, 
  USUARIO_EXCLUSAO      varchar2(30), 
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO ADD CONSTRAINT PK_RTC_FINANCEIRO PRIMARY KEY (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO ADD CONSTRAINT CK_RTC_FINANCEIRO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO ADD CONSTRAINT CK_RTC_FINANCEIRO2 CHECK (SITUACAO between 1 and 3);



COMMENT ON TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO IS 'Tabela de Repasse Financeiro, referente aos códigos contábeis classificados no plano de contas.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.ID_REPASSE IS 'Número Sequencial da Repartição da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.DATA_PROCESSAMENTO IS 'Data em que Foi Processado o Arquivo.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.SITUACAO IS '1-Aguardando Processamento, 2 - Processado, 3-Problema de Envio';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.ARQUIVO_FINANCEIRO IS 'Arquivo Gerado com os códigos contábeis para processamento no financeiro.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_FINANCEIRO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE (
  ID_REPASSE           number(10) CONSTRAINT NN_RTC_REPASSE_DETALHE1 NOT NULL, 
  ID_RECEITA           number(4) CONSTRAINT NN_RTC_REPASSE_DETALHE2 NOT NULL, 
  TIPO_REPASSE         number(1) CONSTRAINT NN_RTC_REPASSE_DETALHE3 NOT NULL, 
  CODIGO_CONTABIL      varchar2(20) CONSTRAINT NN_RTC_REPASSE_DETALHE4 NOT NULL, 
  VALOR_ARRECADADO     number(14, 2) CONSTRAINT NN_RTC_REPASSE_DETALHE5 NOT NULL, 
  VALOR_REPASSE        number(14, 2) CONSTRAINT NN_RTC_REPASSE_DETALHE6 NOT NULL, 
  EFEITO               number(1) CONSTRAINT NN_RTC_REPASSE_DETALHE7 NOT NULL,
  ID_MUNICIPIO         number(7), 
  ID_AJUSTES_REPASSE   number(10),
  USUARIO_INSERCAO     varchar2(30) CONSTRAINT NN_RTC_REPASSE_DETALHE8 NOT NULL, 
  DATA_INSERCAO        timestamp CONSTRAINT NN_RTC_REPASSE_DETALHE9 NOT NULL, 
  USUARIO_ALTERACAO    varchar2(30), 
  DATA_ALTERACAO       timestamp, 
  REGISTRO_EXCLUIDO    char(1) default 'N' CONSTRAINT NN_RTC_REPASSE_DETALHE10 NOT NULL, 
  USUARIO_EXCLUSAO     varchar2(30), 
  DATA_EXCLUSAO        timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT PK_RTC_REPASSE_DETALHE PRIMARY KEY (ID_REPASSE, ID_RECEITA, TIPO_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT CK_RTC_REPASSE_DETALHE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT CK_RTC_REPASSE_DETALHE2 CHECK (TIPO_REPASSE between 1 and 4);
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT CK_RTC_REPASSE_DETALHE3 CHECK (VALOR_ARRECADADO >=0); 
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT CK_RTC_REPASSE_DETALHE4 CHECK (VALOR_REPASSE  >=0); 
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT CK_RTC_REPASSE_DETALHE5 CHECK (EFEITO between 0 and 4); 



COMMENT ON TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE IS 'Tabela de Repasse Detallhada dos tipos de repasse que os códigos de receitas estão sujeitos a ter, como : Repasse UF, Repasse Fundeb, Repasse Munic, Fundeb Munic e ajustes que possam vim a ter.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.ID_REPASSE IS 'Número Sequencial da Repartição da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.ID_RECEITA IS 'Código de Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.TIPO_REPASSE IS 'Tipo do Repasse: 1 - Repasse UF, 2 - Repasse Fundeb UF, 3 - Repasse Municipio, 4 - Repasse Fundeb Municipio';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.CODIGO_CONTABIL IS 'Código Contábil utilizado pelo Financeiro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.VALOR_ARRECADADO IS 'Valor Arrecadado da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.VALOR_REPASSE IS 'Valor do Repasse';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.EFEITO IS '0 - Operação Normal; 1- PG Estornos; 2 - Repasse Negativo ( M -> E ) ; 3 - Restituição; 4 - Repasse Negativo ( E -> M );';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.ID_MUNICIPIO IS 'Código do Municipio';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.ID_AJUSTES_REPASSE IS 'Numero Sequencial de Ajustes. Sempre que houver ajuste de pagamentos corrigidos e restituições este campo será preenchido';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE_DETALHE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RTC_REPASSE (
  ID_REPASSE             number(10) CONSTRAINT NN_RTC_REPASSE1 NOT NULL, 
  TIPO                   number(1) CONSTRAINT NN_RTC_REPASSE2 NOT NULL, 
  DATA_INICIO            date CONSTRAINT NN_RTC_REPASSE3 NOT NULL, 
  DATA_FINAL             date CONSTRAINT NN_RTC_REPASSE4 NOT NULL, 
  VALOR_TOTAL_ARRECADADO number(14, 2) CONSTRAINT NN_RTC_REPASSE5 NOT NULL, 
  VALOR_TOTAL_AJUSTES    number(14, 2) CONSTRAINT NN_RTC_REPASSE6 NOT NULL, 
  USUARIO_INSERCAO       varchar2(30) CONSTRAINT NN_RTC_REPASSE7 NOT NULL, 
  DATA_INSERCAO          timestamp CONSTRAINT NN_RTC_REPASSE8 NOT NULL, 
  USUARIO_ALTERACAO      varchar2(30), 
  DATA_ALTERACAO         timestamp, 
  REGISTRO_EXCLUIDO      char(1) default 'N' CONSTRAINT NN_RTC_REPASSE9 NOT NULL, 
  USUARIO_EXCLUSAO       varchar2(30), 
  DATA_EXCLUSAO          timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT PK_RTC_REPASSE PRIMARY KEY (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE2 CHECK (TIPO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE3 CHECK ( trunc(DATA_INICIO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE4 CHECK ( trunc(DATA_FINAL) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE5 CHECK ( trunc(DATA_FINAL) >= trunc(DATA_INICIO) );
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE6 CHECK ( VALOR_TOTAL_ARRECADADO >=0 );
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE ADD CONSTRAINT CK_RTC_REPASSE7 CHECK ( VALOR_TOTAL_AJUSTES >=0);



COMMENT ON TABLE SEFAZ_ARR.TA_RTC_REPASSE IS 'Tabela de Repasse de Transferências Constitucionais realizado para repasse dos valores arrecadados a conta do Estado e Municipio.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.ID_REPASSE IS 'Número Sequencial da Repartição da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.TIPO IS 'Tipo de RTC: 1- NORMAL, 2- COMPLEMENTAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.DATA_INICIO IS 'Data Inicial da Geração da RTC.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.DATA_FINAL IS 'Data Final da RTC';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.VALOR_TOTAL_ARRECADADO IS 'Total Valor Arrecadado';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.VALOR_TOTAL_AJUSTES IS 'Total de Ajustes realizados no intervalo informado';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RTC_REPASSE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE (
  ID_AJUSTES_REPASSE 	number(10) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE1 NOT NULL, 
  TIPO_AJUSTES       	number(1) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE2 NOT NULL, 
  EFEITO             	number(1) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE3 NOT NULL, 
  DATA_INCLUSAO      	date CONSTRAINT NN_PAGOS_AJUSTES_REPASSE4 NOT NULL, 
  VALOR_TOTAL        	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE5 NOT NULL, 
  VALOR_PRINCIPAL    	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE6 NOT NULL, 
  VALOR_MULTA        	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE7 NOT NULL, 
  VALOR_JUROS        	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE8 NOT NULL, 
  VALOR_CORRECAO     	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE9 NOT NULL, 
  VALOR_TAXA         	number(14, 2) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE10 NOT NULL, 
  ID_BDAR_TPAR       	number(15), 
  ORDEM_LOTE         	number(3), 
  SEQ_ERRO           	number(2), 
  TA_RTC_REPASSE     	number(10) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE11 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_PAGOS_AJUSTES_REPASSE12 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_PAGOS_AJUSTES_REPASSE13 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_PAGOS_AJUSTES_REPASSE14 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT PK_PAGOS_AJUSTES_REPASSE PRIMARY KEY (ID_AJUSTES_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE2 CHECK (TIPO_AJUSTES between 1 and 5);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE3 CHECK (EFEITO in (1,2));
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE4 CHECK (trunc(DATA_INCLUSAO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) );
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE5 CHECK (VALOR_TOTAL >=0);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE6 CHECK (VALOR_PRINCIPAL >=0);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE7 CHECK (VALOR_MULTA >=0);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE8 CHECK (VALOR_JUROS >=0);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE9 CHECK (VALOR_CORRECAO >=0);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT CK_PAGOS_AJUSTES_REPASSE10 CHECK (VALOR_TAXA >=0);

  

COMMENT ON TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE IS 'Tabela com os registros des Ajustes realizados nas tabelas de Correção de pagamentos e Tabela de Restituiçoes, que estarão sujeitas à ajustes no financeiro e que serão porcessadas quando for gerada as RTC semanais.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.ID_AJUSTES_REPASSE IS 'Numero Sequencial de Ajustes. Sempre que houver ajuste de pagamentos corrigidos e restituições este campo será preenchido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.TIPO_AJUSTES IS 'Origem do Ajuste: 1 - Solicitação de Correção de Pagamento, 2 - Restituição de Pagamento, 3 - Restituição de Instituição Financeir, 4 - Restituição de Recurso, 5 - Correção de Pagamento Manual,';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.EFEITO IS '1 - Positivo; 2 - Negativo;';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.DATA_INCLUSAO IS 'Data de Inclusão do Ajuste';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.VALOR_TOTAL IS 'Valor Total';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.VALOR_PRINCIPAL IS 'Valor Principal';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.VALOR_MULTA IS 'VAlor Multa';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.VALOR_JUROS IS 'Valor Juros';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.VALOR_CORRECAO IS 'Valor Correção';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.ORDEM_LOTE IS 'Sequencia de pagamentos de até 999máx.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.SEQ_ERRO IS 'Sequencia de Correções de Erros que o pagamento sofreu. Sempre a ultima sequencia trará os valores das sequencias anteriores corrigidos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.TA_RTC_REPASSE IS 'Numero da Rtc que gerou o repasse';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_MUNICIPIOS_CONTAS (
  TIPO_CONTA     		number(1) CONSTRAINT NN_MUNICIPIOS_CONTAS1 NOT NULL, 
  ID_MUNICIPIO   		number(7) CONSTRAINT NN_MUNICIPIOS_CONTAS2 NOT NULL, 
  ID_BANCO       		number(4) CONSTRAINT NN_MUNICIPIOS_CONTAS3 NOT NULL, 
  ID_AGENCIA     		number(6) CONSTRAINT NN_MUNICIPIOS_CONTAS4 NOT NULL, 
  CONTA_CORRENTE 		varchar2(10) CONSTRAINT NN_MUNICIPIOS_CONTAS5 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_MUNICIPIOS_CONTAS6 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_MUNICIPIOS_CONTAS7 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_MUNICIPIOS_CONTAS8 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_MUNICIPIOS_CONTAS ADD CONSTRAINT PK_MUNICIPIOS_CONTAS PRIMARY KEY (TIPO_CONTA,ID_MUNICIPIO);
ALTER TABLE SEFAZ_ARR.TA_MUNICIPIOS_CONTAS ADD CONSTRAINT CK_MUNICIPIOS_CONTAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
  

COMMENT ON TABLE SEFAZ_ARR.TA_MUNICIPIOS_CONTAS IS 'Tabela com os Tipos de Contas que os municipios possuem para transferências bancárias entre os estados.';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.TIPO_CONTA IS '1 - ICMS, 2- IPVA, 3- MULTAS E RENAINF';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.ID_MUNICIPIO IS 'Código do Municipio do SERPRO';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.ID_BANCO IS 'Código do Banco';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.ID_AGENCIA IS 'Código da Agência';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_MUNICIPIOS_CONTAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS (
  ID_TARIFA       		number(2) CONSTRAINT NN_CONVENIOS_TARIFAS1 NOT NULL, 
  ID_CONVENIO     		number(10) CONSTRAINT NN_CONVENIOS_TARIFAS2 NOT NULL, 
  FORMA_PAGAMENTO 		number(1) CONSTRAINT NN_CONVENIOS_TARIFAS3 NOT NULL, 
  DATA_INICIO     		date CONSTRAINT NN_CONVENIOS_TARIFAS4 NOT NULL, 
  DATA_FIM        		date, 
  VALOR           		number(5, 2) CONSTRAINT NN_CONVENIOS_TARIFAS5 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_CONVENIOS_TARIFAS6 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_CONVENIOS_TARIFAS7 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_CONVENIOS_TARIFAS8 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);

ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS ADD CONSTRAINT PK_CONVENIOS_TARIFAS PRIMARY KEY (ID_TARIFA);
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS ADD CONSTRAINT CK_CONVENIOS_TARIFAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS ADD CONSTRAINT CK_CONVENIOS_TARIFAS2 CHECK (trunc(DATA_INICIO) >= trunc(to_date('01/01/1988','DD/MM/YYYY')) ); 
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS ADD CONSTRAINT CK_CONVENIOS_TARIFAS3 CHECK (VALOR >=0 ); 


COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.ID_TARIFA IS 'Código do Sequencial da Tarifa.';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.ID_CONVENIO IS 'Código do Convênio Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.FORMA_PAGAMENTO IS 'Tipo de Formas de Recebimento de Cobranças de Tarifas: 1-Guiche de Caixa, 2- Arrecadação Eletrônica, 3-Internet, 4-Outros Meios, 5-Correspondente Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.DATA_INICIO IS 'Data de Inicio da Cobrança';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.DATA_FIM IS 'Data Fim da Cobrança da Tarifa';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.VALOR IS 'Valor da Tarifa a ser Comprada';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_TARIFAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC (
  ID_CONVENIO        	number(10) CONSTRAINT NN_CONVENIOS_ARREC1 NOT NULL, 
  DESCRICAO_CONVENIO 	varchar2(100) CONSTRAINT NN_CONVENIOS_ARREC2 NOT NULL, 
  TIPO_BARRA         	number(1) CONSTRAINT NN_CONVENIOS_ARREC3 NOT NULL, 
  SITUACAO           	number(1) CONSTRAINT NN_CONVENIOS_ARREC4 NOT NULL, 
  ID_BANCO           	number(4) CONSTRAINT NN_CONVENIOS_ARREC5 NOT NULL, 
  ID_AGENCIA         	number(6) CONSTRAINT NN_CONVENIOS_ARREC6 NOT NULL, 
  VERSAO_ARQUIVO     	number(2) CONSTRAINT NN_CONVENIOS_ARREC7 NOT NULL, 
  TIPO_CONVENIO      	number(4) CONSTRAINT NN_CONVENIOS_ARREC8 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_CONVENIOS_ARREC9 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_CONVENIOS_ARREC10 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_CONVENIOS_ARREC11 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC ADD CONSTRAINT PK_CONVENIOS_ARREC PRIMARY KEY (ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC ADD CONSTRAINT CK_CONVENIOS_ARREC1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC ADD CONSTRAINT CK_CONVENIOS_ARREC2 CHECK (TIPO_BARRA between 1 and 5); 
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC ADD CONSTRAINT CK_CONVENIOS_ARREC3 CHECK (SITUACAO in (1,2)); 
  

COMMENT ON TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC IS 'Tabela de Cadastro de Convênios Bancários';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.ID_CONVENIO IS 'Código do Convênio Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.DESCRICAO_CONVENIO IS 'Descrição do Convênio Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.TIPO_BARRA IS 'Tipo de código de barra (1-GNRE; 2-DARE; 3 - IPVA; 4-SIMPLES NACIONAL; 5 - SEM BARRA';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.SITUACAO IS 'Situação do Convênio: 1-Ativo 2 - Cancelado';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.ID_AGENCIA IS 'Código da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.VERSAO_ARQUIVO IS 'Versão do Arquivo que está sendo Processado novamente. Ex: 01, 02 etc  ';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.TIPO_CONVENIO IS 'TIPOS DE CONVÊNIOS: 027 - ICMS, 173 - IPVA , 174 - OUTRAS RECEITAS TRIBUTÁRIAS, 175 - OUTRAS RECEITAS NÃO TRIBUTÁRIAS, 316 - GNRE, 607 - SIMPLES NACIONAL';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_CONVENIOS_ARREC.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DELEGACIA_ENDERECO (
  ID_DELEGACIA 			number(5) CONSTRAINT NN_DELEGACIA_ENDERECO1 NOT NULL, 
  ID_MUNICIPIO 			number(7) CONSTRAINT NN_DELEGACIA_ENDERECO2 NOT NULL, 
  UF           			varchar2(2) CONSTRAINT NN_DELEGACIA_ENDERECO3 NOT NULL, 
  LOGRADOURO   			varchar2(15), 
  ENDERECO     			varchar2(200), 
  BAIRRO       			varchar2(100), 
  TELEFONE     			number(12), 
  FAX          			number(12), 
  EMAIL        			varchar2(100),
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_DELEGACIA_ENDERECO4 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_DELEGACIA_ENDERECO5 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_DELEGACIA_ENDERECO6 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_ENDERECO ADD CONSTRAINT PK_DELEGACIA_ENDERECO PRIMARY KEY (ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_ENDERECO ADD CONSTRAINT CK_DELEGACIA_ENDERECO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
  
  
COMMENT ON TABLE SEFAZ_ARR.TA_DELEGACIA_ENDERECO IS 'Tabela de Endereços dos Tipos de Delegacias cadastradas';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.ID_DELEGACIA IS 'Número da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.ID_MUNICIPIO IS 'Código do Municipio que pertence';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.UF IS 'Unidade Federada';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.LOGRADOURO IS 'Tipo de Logradouro : RUA, AVENIDA, ALAMEDA';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.ENDERECO IS 'Endereço da Delegacia';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.BAIRRO IS 'Bairro da Delegacia';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.TELEFONE IS 'Número do Telefone com DDD';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.FAX IS 'Número do Fax com DDD';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.EMAIL IS 'Email Principal da Delegacia Fazendaria';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_ENDERECO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS (
  ID_DELEGACIA 			number(5) CONSTRAINT NN_DELEGACIA_RECEITAS1 NOT NULL, 
  ID_RECEITA   			number(4) CONSTRAINT NN_DELEGACIA_RECEITAS2 NOT NULL,
  USUARIO_INSERCAO      varchar2(30) CONSTRAINT NN_DELEGACIA_RECEITAS3 NOT NULL,
  DATA_INSERCAO         timestamp CONSTRAINT NN_DELEGACIA_RECEITAS4 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_DELEGACIA_RECEITAS5 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);


ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS ADD CONSTRAINT PK_DELEGACIA_RECEITAS PRIMARY KEY (ID_DELEGACIA, ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS ADD CONSTRAINT CK_DELEGACIA_RECEITAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 

COMMENT ON TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS IS 'Nesta tabela serão fornecidas os códigos de receitas quando o Tipo de Delegacia for 4- Orgãos Externos. A especificação destas receitas serviram para os Orgãos Externos poderem consultar os pagamentos de suas receitas especificas no sistema SIAT.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.ID_DELEGACIA IS 'Número da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_RECEITAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS (
  ID_DETALHE_ARQUIVO    number(15) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS1 NOT NULL, 
  ID_ARQUIVOS           number(15) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS2 NOT NULL, 
  NUMERO_LINHA          number(5) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS3 NOT NULL, 
  NUMERO_NSU            varchar2(25) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS4 NOT NULL, 
  DATA_PAGAMENTO        date CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS5 NOT NULL, 
  VALOR_BARRA           number(14, 2) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS6 NOT NULL, 
  CODIGO_BARRA          varchar2(44) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS7 NOT NULL, 
  VALOR_PAGAMENTO       number(14, 2) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS8 NOT NULL, 
  VALOR_TARIFA_CONVENIO number(6, 2) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS9 NOT NULL, 
  FORMA_PAGAMENTO       number(1) CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS10 NOT NULL, 
  ERRO_LINHA            number(1) default 0, 
  VALOR_AUTENTICADO     number(14, 2),
  USUARIO_INSERCAO      varchar2(30)  CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS11 NOT NULL,
  DATA_INSERCAO         timestamp  CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS12 NOT NULL,
  USUARIO_ALTERACAO     varchar2(30),
  DATA_ALTERACAO        timestamp,
  REGISTRO_EXCLUIDO     char(1) default 'N' CONSTRAINT NN_ARQUIVO_DETALHE_PAGOS13 NOT NULL,
  USUARIO_EXCLUSAO      varchar2(30),
  DATA_EXCLUSAO         timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS ADD CONSTRAINT PK_ARQUIVO_DETALHE_PAGOS PRIMARY KEY (ID_DETALHE_ARQUIVO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS ADD CONSTRAINT CK_ARQUIVO_DETALHE_PAGOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS ADD CONSTRAINT CK_ARQUIVO_DETALHE_PAGOS2 CHECK (FORMA_PAGAMENTO between 1 and 5); 
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS ADD CONSTRAINT CK_ARQUIVO_DETALHE_PAGOS3 CHECK (ERRO_LINHA in (0,1)); 


  
COMMENT ON TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS IS 'Tabela dos Registro Detalhe referentes aos Pagamentos contidos no arquivo a ser processado.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.ID_DETALHE_ARQUIVO IS 'Sequencial do Arquivo de Detalhe';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.ID_ARQUIVOS IS 'Numero Gerado por uma Sequencia para armazendar os Arquivos Recepcionados';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.NUMERO_LINHA IS 'Numero da Linha do Registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.NUMERO_NSU IS 'Numero do Sequencial único do Registro, gerado pelo agente arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.DATA_PAGAMENTO IS 'data e hora que foi feito o pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.VALOR_BARRA IS 'Valor Informado na Barra';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.CODIGO_BARRA IS 'Código de 44 digitos da Barra gerada pelo DARE';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.VALOR_PAGAMENTO IS 'Valor Autenticado pelo Banco';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.VALOR_TARIFA_CONVENIO IS 'Valor da Tarifa Contratada pelo Convênio, com base na forma de pagamento encontrada.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.FORMA_PAGAMENTO IS 'Tipo de Formas de Recebimento de Cobranças de Tarifas: 1-Guiche de Caixa,2- Arrecadação Eletrônica,3-Internet,4--Outros Meios,5-Correspondente Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.ERRO_LINHA IS 'Se a linha apresentou erro : 1- SIM, Null ou 0 - NAO';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.VALOR_AUTENTICADO IS 'Valor Autenticado pelo Banco';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';

CREATE TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO (
  ID_ARQUIVOS            number(15) CONSTRAINT NN_ARQUIVO_RECEPCAO1 NOT NULL, 
  ID_CONVENIO            number(10) CONSTRAINT NN_ARQUIVO_RECEPCAO2 NOT NULL, 
  ID_BANCO               number(4) CONSTRAINT NN_ARQUIVO_RECEPCAO3 NOT NULL, 
  NOME_ARQUIVO           varchar2(100) CONSTRAINT NN_ARQUIVO_RECEPCAO4 NOT NULL, 
  TIPO_ARQUIVO           number(1) CONSTRAINT NN_ARQUIVO_RECEPCAO5 NOT NULL, 
  CARACTERISTICA_ARQUIVO number(1) CONSTRAINT NN_ARQUIVO_RECEPCAO6 NOT NULL, 
  DATA_ARQUIVO           date CONSTRAINT NN_ARQUIVO_RECEPCAO7 NOT NULL, 
  HEADER_ARQUIVO         varchar2(255), 
  TRAILER_ARQUIVO        varchar2(255), 
  DATA_PROCESSAMENTO     date, 
  SITUACAO               number(1) CONSTRAINT NN_ARQUIVO_RECEPCAO8 NOT NULL, 
  QUANTIDADE_DOCS        number(10) CONSTRAINT NN_ARQUIVO_RECEPCAO9 NOT NULL, 
  VALOR_TOTAL            number(14, 2) CONSTRAINT NN_ARQUIVO_RECEPCAO10 NOT NULL, 
  ARQUIVO                blob CONSTRAINT NN_ARQUIVO_RECEPCAO11 NOT NULL, 
  QUANTIDADE_REJEITADA   number(10), 
  VALOR_REJEITADO        number(14, 2), 
  ID_CODIGO_REJEICAO     number(2),
  SEQUENCIAL_NSA         number(10) CONSTRAINT NN_ARQUIVO_RECEPCAO12 NOT NULL,
  USUARIO_INSERCAO       varchar2(30) CONSTRAINT NN_ARQUIVO_RECEPCAO13 NOT NULL,
  DATA_INSERCAO          timestamp CONSTRAINT NN_ARQUIVO_RECEPCAO14 NOT NULL,
  USUARIO_ALTERACAO      varchar2(30),
  DATA_ALTERACAO         timestamp,
  REGISTRO_EXCLUIDO      char(1) default 'N' CONSTRAINT NN_ARQUIVO_RECEPCAO15 NOT NULL,
  USUARIO_EXCLUSAO       varchar2(30),
  DATA_EXCLUSAO          timestamp
);
  

ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT PK_ARQUIVO_RECEPCAO PRIMARY KEY (ID_ARQUIVOS);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO2 CHECK (TIPO_ARQUIVO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO3 CHECK (CARACTERISTICA_ARQUIVO IN (1,2));
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO4 CHECK (SITUACAO between 1 and 3);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO5 CHECK (QUANTIDADE_DOCS>=0);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT CK_ARQUIVO_RECEPCAO6 CHECK (VALOR_TOTAL>=0);


  
COMMENT ON TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO IS 'Tabela de Recepção dos Arquivos enviados pelos Agentes Arrecadadores que possuem Convênio Firnado com a SEFAZ.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.ID_ARQUIVOS IS 'Numero Gerado por uma Sequencia para armazendar os Arquivos Recepcionados';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.ID_CONVENIO IS 'Código do Convênio Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.NOME_ARQUIVO IS 'Nome do Arquivo Recepcionado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.TIPO_ARQUIVO IS '1 - Arrecadacao, 2- Simples Nacional,';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.CARACTERISTICA_ARQUIVO IS 'Tipo de arquivo (1-online 2-consolidado)';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.DATA_ARQUIVO IS 'Data de Recepção do Arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.HEADER_ARQUIVO IS 'Linha do Header do Arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.TRAILER_ARQUIVO IS 'Linha do Trailer do Arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.DATA_PROCESSAMENTO IS 'Data do Processamento do Arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.SITUACAO IS '1-PROCESSADO, 2-NÃO PROCESSADO, 3-PROCESSADO COM ERROS';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.QUANTIDADE_DOCS IS 'Quantidade de Documentos Processados no Arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.VALOR_TOTAL IS 'Valor Total do Arquivo Processado';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.ARQUIVO IS 'Arquivo Enviado pelo Agente Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.QUANTIDADE_REJEITADA IS 'Qtd de Registros Rejeitados ou com Erros';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.VALOR_REJEITADO IS 'Valor Total dos Registros Rejeitados';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.ID_CODIGO_REJEICAO IS 'A ser preenchido pela SEFAZ em caso de devolução do arq.
Códigos de ocorrências no registro header: 
Código  Descrição
1 -  Arquivo sem header
2 -  Data de geração do arquivo maior que data atual
3 - Data de geração do arquivo inválida
4 - Versão do leiaute do arquivo inválida
5 - Código de registro inválido                      
6 - Numero sequencial do arquivo já processado
7 - Numero Sequencial do arquivo não sequenciado
8 - Banco não é centralizador do repasse financeiro';

COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_RECEPCAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RECEITAS (
  ID_RECEITA                    number(4) CONSTRAINT NN_RECEITAS1 NOT NULL, 
  ID_PLANO_CONTAS               number(10), 
  DESCRICAO_RECEITA             varchar2(250) CONSTRAINT NN_RECEITAS2 NOT NULL, 
  TIPO_RECEITA                  number(1) CONSTRAINT NN_RECEITAS3 NOT NULL, 
  CLASSIFICACAO_RECEITA         number(2) CONSTRAINT NN_RECEITAS4 NOT NULL, 
  IMPRIME_DARE                  number(1) CONSTRAINT NN_RECEITAS5 NOT NULL, 
  PERMITE_TAXAS                 number(1) CONSTRAINT NN_RECEITAS6 NOT NULL, 
  SITUACAO                      number(1) CONSTRAINT NN_RECEITAS7 NOT NULL, 
  ID_BARRA                      number(2), 
  ID_RECEITA_MULTA              number(4), 
  ID_RECEITA_JUROS              number(4), 
  ID_RECEITA_CORRECAO_MONETARIA number(4), 
  ID_RECEITA_TAXAS              number(4), 
  USUARIO_INSERCAO       		varchar2(30) CONSTRAINT NN_RECEITAS8 NOT NULL,
  DATA_INSERCAO          		timestamp CONSTRAINT NN_RECEITAS9 NOT NULL,
  USUARIO_ALTERACAO      		varchar2(30),
  DATA_ALTERACAO         		timestamp,
  REGISTRO_EXCLUIDO      		char(1) default 'N' CONSTRAINT NN_RECEITAS10 NOT NULL,
  USUARIO_EXCLUSAO       		varchar2(30),
  DATA_EXCLUSAO          		timestamp
);

ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT PK_RECEITAS PRIMARY KEY (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT CK_RECEITAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT CK_RECEITAS2 CHECK (IMPRIME_DARE IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT CK_RECEITAS3 CHECK (PERMITE_TAXAS IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT CK_RECEITAS4 CHECK (SITUACAO IN (1,2)); 
 
 
COMMENT ON TABLE SEFAZ_ARR.TA_RECEITAS IS 'Tabela de Códigos de Receitas, contendo suas paramentrizações de repasse, tipo de receita, classificações de receitas e demais campos. Nesta tabela estarão todos so tipos de receita que a SEFAZ utiliza para arrecadar os pagamentos de impostos, taxas, e demais tributos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_PLANO_CONTAS IS 'Sequencial Interno gerado por uma sequencia.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.DESCRICAO_RECEITA IS 'Descrição da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.TIPO_RECEITA IS 'Tipo da Receita: 1-Imposto,2- Multa,3- Juros,4-Correção Monetária,5-Taxas';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.CLASSIFICACAO_RECEITA IS 'Classificação das Receitas: 1 - ICMS, 2 - IPVA, 3 - ITCD, 4 - OUTRAS RECEITAS, 5 - DEDUÇÕES, 6 - ICMS DIVIDA ATIVA, 7 - IPVA DIVIDA ATIVA, 8 - ITCD DIVIDA ATIVA, 9 - OUTRAS RECEITAS NÃO TRIBUTÁRIAS';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.IMPRIME_DARE IS 'Se a Receita pode ser impresa pela consulta pública e ou é Receita para impressão em DARES: 1 - SIM , 2 - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.PERMITE_TAXAS IS 'Permite Pagamento do Imposto vinculos com Taxas de Prestação de Serviços. 1 - SIM, 2- NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.SITUACAO IS 'Situação da Receita: 1-ATIVA, 2- CANCELADA';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_BARRA IS 'número resumido do Código de Receita para uso na Barra do DARE.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_RECEITA_MULTA IS 'Código Lógico cadastrado na tabela de Receitas para efeito de repartição dos valores quando informado valores de multas ultilizando o código Principal. Ex: Quando o valor pago for do icms contendo Valor Principal + Valor da Multa, o valor acrescentado para a Multa será colocado neste código lógico. Este procedimento é utilizado no Fechamento da Arrecadação.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_RECEITA_JUROS IS 'Código Lógico cadastrado na tabela de Receitas para efeito de repartição dos valores quando informado valores de multas ultilizando o código Principal. Ex: Quando o valor pago for do icms contendo Valor Principal + Valor da Juros o valor acrescentado para o Juros será o colocado neste código lógico. Este procedimento é utilizado no Fechamento da Arrecadação.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.ID_RECEITA_CORRECAO_MONETARIA IS 'Código Lógico cadastrado na tabela de Receitas para efeito de repartição dos valores quando informado valores de multas ultilizando o código Principal. Ex: Quando o valor pago for do icms contendo Valor Principal + Valor da Correcção Monetária, o valor acrescentado para a Correção será colocado neste código lógico. Este procedimento é utilizado no Fechamento da Arrecadação.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PLANO_CONTAS (
  ID_PLANOCONTAS      number(10) CONSTRAINT NN_PLANO_CONTAS1 NOT NULL, 
  CODIGO_PLANO_CONTAS varchar2(20) CONSTRAINT NN_PLANO_CONTAS2  NOT NULL, 
  ID_GRUPO_CNAE       number(2), 
  NOME_CONTA          varchar2(150) CONSTRAINT NN_PLANO_CONTAS3 NOT NULL, 
  CONTA_HIERARQUICA   varchar2(20), 
  CODIGO_CONTABIL     varchar2(20) CONSTRAINT NN_PLANO_CONTAS5 NOT NULL, 
  TIPO_CONTA          number(1) CONSTRAINT NN_PLANO_CONTAS6 NOT NULL, 
  RATEIO              number(1) CONSTRAINT NN_PLANO_CONTAS7 NOT NULL, 
  SITUACAO            number(1) CONSTRAINT NN_PLANO_CONTAS8 NOT NULL,
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_PLANO_CONTAS9 NOT NULL,
  DATA_INSERCAO       timestamp  CONSTRAINT NN_PLANO_CONTAS10 NOT NULL,
  USUARIO_ALTERACAO   varchar2(30),
  DATA_ALTERACAO      timestamp,
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_PLANO_CONTAS11 NOT NULL,
  USUARIO_EXCLUSAO    varchar2(30),
  DATA_EXCLUSAO       timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT PK_PLANO_CONTAS PRIMARY KEY (ID_PLANOCONTAS);
ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT CK_PLANO_CONTAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT CK_PLANO_CONTAS2 CHECK (TIPO_CONTA IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT CK_PLANO_CONTAS3 CHECK (RATEIO IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT CK_PLANO_CONTAS4 CHECK (SITUACAO IN (1,2)); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PLANO_CONTAS IS 'Tabela de Cadasto do Plano de Contas das Receitas Estaduais';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.ID_PLANOCONTAS IS 'Sequencial Interno gerado por uma sequencia.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.CODIGO_PLANO_CONTAS IS 'Código do Plano de Contas';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.ID_GRUPO_CNAE IS '1-Agricultura, 2-Pecuária, 3-Agropecuária, 4-Sivilcultura/Explor, 5-Pesca, 6-Industria, 7-Comércio, 8-Serviços, 9-Outras Atividades';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.NOME_CONTA IS 'Descrição da Conta do Plano';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.CONTA_HIERARQUICA IS 'ID do Plano de Contas Hierárquico';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.CODIGO_CONTABIL IS 'Codigo da Classificação Contábil';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.TIPO_CONTA IS '1-Sintética, 2-Analitica';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.RATEIO IS '1 - SIM, 2 -NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.SITUACAO IS '1 - ATIVO, 2 -CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PLANO_CONTAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE (
  ID_RECEITA         number(4) CONSTRAINT NN_RECEITAS_REPASSE1 NOT NULL, 
  TIPO_REPASSE       number(1) CONSTRAINT NN_RECEITAS_REPASSE2 NOT NULL, 
  DATA_INICIO        date CONSTRAINT NN_RECEITAS_REPASSE3 NOT NULL, 
  DATA_FINAL         date, 
  PERCENTUAL_REPASSE number(5, 2) CONSTRAINT NN_RECEITAS_REPASSE4 NOT NULL, 
  REPARTE_PRINCIPAL  number(1), 
  REPARTE_MULTA      number(1), 
  REPARTE_JUROS      number(1), 
  REPARTE_CORRECAO   number(1), 
  REPARTE_TAXA       number(1), 
  USUARIO_INSERCAO   varchar2(30) CONSTRAINT NN_RECEITAS_REPASSE5 NOT NULL,
  DATA_INSERCAO      timestamp CONSTRAINT NN_RECEITAS_REPASSE6 NOT NULL,
  USUARIO_ALTERACAO  varchar2(30),
  DATA_ALTERACAO     timestamp,
  REGISTRO_EXCLUIDO  char(1) default 'N' CONSTRAINT NN_RECEITAS_REPASSE7 NOT NULL,
  USUARIO_EXCLUSAO   varchar2(30),
  DATA_EXCLUSAO      timestamp
);
 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT PK_RECEITAS_REPASSE PRIMARY KEY (ID_RECEITA,TIPO_REPASSE,DATA_INICIO);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE2 CHECK (REPARTE_PRINCIPAL is null or REPARTE_PRINCIPAL IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE3 CHECK (REPARTE_MULTA is null or REPARTE_MULTA IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE4 CHECK (REPARTE_JUROS is null or REPARTE_JUROS IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE5 CHECK (REPARTE_CORRECAO is null or REPARTE_CORRECAO IN (1,2)); 
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT CK_RECEITAS_REPASSE6 CHECK (REPARTE_TAXA is null or REPARTE_TAXA IN (1,2)); 


COMMENT ON TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE IS 'Tabela de Cadastro dos Tipos de Repasse de Receitas para uso na Repartição de Transferências Constitucionais.';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.TIPO_REPASSE IS 'Tipos de Repasse: 1 - Repasse UF, 2 - Repasse Fundeb UF, 3 - Repasse Municipio, 4 - Repasse Fundeb Municipio';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.DATA_INICIO IS 'Data de Inicio de Repasse do Tipo de Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.DATA_FINAL IS 'Data de Final de Repasse do Tipo de Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.PERCENTUAL_REPASSE IS 'Percentual da Receita a ser Repassada. Ex: .75 ( 75%)';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REPARTE_PRINCIPAL IS 'Informa se o Valor Principal do Imposto participa do Repasse da Receita Informada. 0 - NAO, 1- SIM';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REPARTE_MULTA IS 'Informa se o Valor Multa do Imposto participa do Repasse da Receita Informada. 0 - NAO, 1- SIM';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REPARTE_JUROS IS 'Informa se o Valor Juros do Imposto participa do Repasse da Receita Informada. 0 - NAO, 1- SIM';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REPARTE_CORRECAO IS 'Informa se o Valor Correção Monetária do Imposto participa do Repasse da Receita Informada. 0 - NAO, 1- SIM';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REPARTE_TAXA IS 'Informa se os Valores das Taxas são repartidos. 0-NÃO, 1- SIM';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_RECEITAS_REPASSE.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';



CREATE TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO (
  ID_ERRO_DETALHE_ARQUIVO number(15) CONSTRAINT NN_ARQUIVO_ERRO1 NOT NULL, 
  ID_DETALHE_ARQUIVO      number(15) CONSTRAINT NN_ARQUIVO_ERRO2 NOT NULL, 
  ID_CODIGO_REJEICAO      number(2) CONSTRAINT NN_ARQUIVO_ERRO3 NOT NULL, 
  VALOR_LINHA             varchar2(2000) CONSTRAINT NN_ARQUIVO_ERRO4 NOT NULL,
  USUARIO_INSERCAO   	  varchar2(30) CONSTRAINT NN_ARQUIVO_ERRO5 NOT NULL,
  DATA_INSERCAO      	  timestamp CONSTRAINT NN_ARQUIVO_ERRO6 NOT NULL,
  USUARIO_ALTERACAO  	  varchar2(30),
  DATA_ALTERACAO     	  timestamp,
  REGISTRO_EXCLUIDO  	  char(1) default 'N' CONSTRAINT NN_ARQUIVO_ERRO7 NOT NULL,
  USUARIO_EXCLUSAO   	  varchar2(30),
  DATA_EXCLUSAO      	  timestamp
);

  
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO ADD CONSTRAINT PK_ARQUIVO_ERRO PRIMARY KEY (ID_ERRO_DETALHE_ARQUIVO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO ADD CONSTRAINT CK_ARQUIVO_ERRO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
  
COMMENT ON TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO IS 'Tabela onde serão registrados os erros dos arquivos de pagamentos e arquivos do financeiro.';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.ID_ERRO_DETALHE_ARQUIVO IS 'Sequencial dos Registros de Erros Encontrados nos Detalhes dos Arquivos';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.ID_DETALHE_ARQUIVO IS 'Sequencial do Arquivo de Detalhe';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.ID_CODIGO_REJEICAO IS '"A ser preenchido pela SEFAZ em caso de devolução do arq
Código de erros no registro Detalhe:
Código  Descrição
01 - Data de Juliana de Arrecadação Inferior a Data de Recepção do arquivo ou inválida !
02 - Código NOSSO NUMERO Não Localizado  
03 - Código do Banco Arrecadador inválido ou Não Localizado
04 - Código da Agência Arrecadadora inválida ou Não Localizada
05 - Tipo de Valor Informativo inválido
06 - Tipo de documento inválido
07 - Tipo de Receita inválido
08 - Tipo de Documento não cadastrado
09 - Tipo de Receita não cadastrado
10 - Tipo de Valor informativo não cadastrado
11 - Versão da Barra Recepcionada Diferente da Atual Homologada
12 - CPF/CNPJ/Inscrição Estadual/ Renavan não Localizado
13 - Sistema da SEFAZ, gerador da Barra não Identificado
14 - NSU Duplicado
15 - Erro Não Classificado, Verificar Layout da BARRA
16 - Data do Repasse Financeiro inválido
17 - Data do Repasse Financ. maior que a data corrente
18 - Data do Repasse Financ. menor que dta arrecadação
19 - Quantidade dos Documentos Repassados divergente do Obtido na Arrecadação
20 - Valor do Lançamento Divergente do Valor Informativo Acumulado
21 - Numero de Controle do STR já foi Processado
22 - Código do Convênio Bancário  não Localizado
23 - Código da SEFAZ no Arquivo STR20 diferente de 027';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.VALOR_LINHA IS 'Conteúdo da Linha que Gerou o Erro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_ARQUIVO_ERRO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO (
  ID_BDAR_TPAR        number(15) CONSTRAINT NN_PAGOS_RESTITUICAO1 NOT NULL, 
  ORDEM_LOTE          number(3) CONSTRAINT NN_PAGOS_RESTITUICAO2 NOT NULL, 
  TIPO_RESTITUICAO    number(14) CONSTRAINT NN_PAGOS_RESTITUICAO3 NOT NULL, 
  USUARIO_RESTITUICAO number(11) CONSTRAINT NN_PAGOS_RESTITUICAO4 NOT NULL, 
  DATA_RESTITUICAO    date CONSTRAINT NN_PAGOS_RESTITUICAO5 NOT NULL, 
  RESULTADO_PARECER   varchar2(2000) CONSTRAINT NN_PAGOS_RESTITUICAO6 NOT NULL, 
  DATA_PARECER        date CONSTRAINT NN_PAGOS_RESTITUICAO7 NOT NULL, 
  NUMERO_PROCESSO     varchar2(20), 
  ID_BANCO            number(4) CONSTRAINT NN_PAGOS_RESTITUICAO8 NOT NULL, 
  ID_AGENCIA          number(6) CONSTRAINT NN_PAGOS_RESTITUICAO9 NOT NULL, 
  CONTA_CORRENTE      varchar2(12) CONSTRAINT NN_PAGOS_RESTITUICAO10 NOT NULL, 
  CPF_CNPJ_CONTA      number(14) CONSTRAINT NN_PAGOS_RESTITUICAO11 NOT NULL, 
  NOME_CREDOR         varchar2(150) CONSTRAINT NN_PAGOS_RESTITUICAO12 NOT NULL, 
  VALOR_RESTITUIDO    number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO13 NOT NULL, 
  VALOR_PRINCIPAL     number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO14 NOT NULL, 
  VALOR_MULTA         number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO15 NOT NULL, 
  VALOR_JUROS         number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO16 NOT NULL, 
  VALOR_CORRECAO      number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO17 NOT NULL, 
  VALOR_TAXA          number(14, 2) CONSTRAINT NN_PAGOS_RESTITUICAO18 NOT NULL, 
  ID_PEDIDO           number(10),
  USUARIO_INSERCAO    varchar2(30) CONSTRAINT NN_PAGOS_RESTITUICAO19 NOT NULL,
  DATA_INSERCAO       timestamp CONSTRAINT NN_PAGOS_RESTITUICAO20 NOT NULL,
  USUARIO_ALTERACAO   varchar2(30),
  DATA_ALTERACAO      timestamp,
  REGISTRO_EXCLUIDO   char(1) default 'N' CONSTRAINT NN_PAGOS_RESTITUICAO21 NOT NULL,
  USUARIO_EXCLUSAO    varchar2(30),
  DATA_EXCLUSAO       timestamp
);

ALTER TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO ADD CONSTRAINT PK_PAGOS_RESTITUICAO PRIMARY KEY (ID_BDAR_TPAR, ORDEM_LOTE);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO ADD CONSTRAINT CK_PAGOS_RESTITUICAO1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 



  
COMMENT ON TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO IS 'Tabela de Restituições realizadas, podendo ser Via Parecer e ou Via Processo Manual';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.ID_BDAR_TPAR IS 'Numero do TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.ORDEM_LOTE IS 'Sequencia de pagamentos de até 999máx.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.TIPO_RESTITUICAO IS '1-Correçao de Pagamentos, 2- Estornos bancários, 3- Devolução de Cheques, 4- Creditos de Declaracao';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.USUARIO_RESTITUICAO IS 'Usuário que realizou o cadastro da restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.DATA_RESTITUICAO IS 'data em que foi realizada a restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.RESULTADO_PARECER IS 'Resultado do Parecer de Analise';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.DATA_PARECER IS 'Data que foi apresentado o parecer';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.NUMERO_PROCESSO IS 'número do processo';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.ID_BANCO IS 'banco a ser depositado';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.ID_AGENCIA IS 'agência de deposito';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.CONTA_CORRENTE IS 'Conta Corrente do Solicitante';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.CPF_CNPJ_CONTA IS 'Cpf ou Cnpj da conta a ser transferida';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.NOME_CREDOR IS 'Nome do Dono da Conta';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_RESTITUIDO IS 'Valor Total Restituido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_PRINCIPAL IS 'Valor Principal Restituido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_MULTA IS 'Valor da Multa Restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_JUROS IS 'Valor do Juros Restituição';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_CORRECAO IS 'Valor da Correção';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.VALOR_TAXA IS 'Valor da Taxa';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.ID_PEDIDO IS 'Número do pedido de solicitação de Restituição, caso venha por via parecer.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_RESTITUICAO.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS (
  ID_BDAR_TPAR       number(15) CONSTRAINT NN_PAGOS_CORRIGIDOS1 NOT NULL, 
  ORDEM_LOTE         number(3) CONSTRAINT NN_PAGOS_CORRIGIDOS2 NOT NULL, 
  SEQ_ERRO           number(2) CONSTRAINT NN_PAGOS_CORRIGIDOS3 NOT NULL, 
  ID_PEDIDO          number(10), 
  ID_RECEITA         number(4), 
  ID_SUBCODIGO       number(3), 
  ID_PESSOA          number(14), 
  PERIODO_REFERENCIA number(6), 
  DOCUMENTO          number(16), 
  NUMERO_PARCELA     number(3), 
  ID_MUNICIPIO       number(7), 
  NUMERO_PROCESSO    varchar2(20), 
  USUARIO_INSERCAO   varchar2(30) CONSTRAINT NN_PAGOS_CORRIGIDOS4 NOT NULL,
  DATA_INSERCAO      timestamp CONSTRAINT NN_PAGOS_CORRIGIDOS5  NOT NULL,
  USUARIO_ALTERACAO  varchar2(30),
  DATA_ALTERACAO     timestamp,
  REGISTRO_EXCLUIDO  char(1) default 'N' CONSTRAINT NN_PAGOS_CORRIGIDOS6  NOT NULL,
  USUARIO_EXCLUSAO   varchar2(30),
  DATA_EXCLUSAO      timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS ADD CONSTRAINT PK_PAGOS_CORRIGIDOS PRIMARY KEY (ID_BDAR_TPAR, ORDEM_LOTE, SEQ_ERRO);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS ADD CONSTRAINT CK_PAGOS_CORRIGIDOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 

  
COMMENT ON TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS IS 'Tabela de Pagamentos Corrigidos, podendo ser Via Parecer ou Processo Manual.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_BDAR_TPAR IS 'Numero do TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ORDEM_LOTE IS 'Sequencia de pagamentos de até 999máx.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.SEQ_ERRO IS 'Sequencia de Correções de Erros que o pagamento sofreu. Sempre a ultima sequencia trará os valores das sequencias anteriores corrigidos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_PEDIDO IS 'Número do pedido de solicitação de Restituição, caso venha por via parecer.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_RECEITA IS 'Código da Receita Corrigido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_SUBCODIGO IS 'Código informado quando ocorrer mudança no subcodigo da receita.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_PESSOA IS 'Responsável pelo Pagamento do DARE, podendo ser uma Inscrição Estadual ou CPF ou CPNJ ou RENAVAN. Cadastrados na Tabela de Contribuintes do IPVA, EXTRACADASTRO ou IPVA';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.PERIODO_REFERENCIA IS 'Período de Referência do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.DOCUMENTO IS 'Número do Documento, podendo ser de um parcelamenot, auto de infração, declaracao e demais tipos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.NUMERO_PARCELA IS 'Número da Parcela do Parcelamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.ID_MUNICIPIO IS 'Código do Municipio Corrigido';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.NUMERO_PROCESSO IS 'Campo Informado quando a correção do pagamento for manual';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_CORRIGIDOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_PAGOS_ARREC (
  ID_BDAR_TPAR              number(15) CONSTRAINT NN_PAGOS_ARREC1 NOT NULL, 
  ORDEM_LOTE                number(3) CONSTRAINT NN_PAGOS_ARREC2 NOT NULL, 
  ID_PESSOA                 number(14) CONSTRAINT NN_PAGOS_ARREC3 NOT NULL, 
  TIPO_PESSOA               number(1) CONSTRAINT NN_PAGOS_ARREC4 NOT NULL, 
  DATA_PAGAMENTO            date CONSTRAINT NN_PAGOS_ARREC5 NOT NULL, 
  PERIODO_REFERENCIA        number(6), 
  ID_RECEITA                number(4) CONSTRAINT NN_PAGOS_ARREC6 NOT NULL, 
  ID_SUBCODIGO              number(3), 
  DOCUMENTO                 number(16), 
  NUMERO_PARCELA            number(3), 
  DATA_VENCIMENTO_INFORMADO date, 
  VALOR_TOTAL               number(14, 2) CONSTRAINT NN_PAGOS_ARREC7 NOT NULL, 
  VALOR_PRINCIPAL           number(14, 2) CONSTRAINT NN_PAGOS_ARREC8 NOT NULL, 
  VALOR_MULTA               number(14, 2) CONSTRAINT NN_PAGOS_ARREC9 NOT NULL, 
  VALOR_JUROS               number(14, 2) CONSTRAINT NN_PAGOS_ARREC10 NOT NULL, 
  VALOR_CORRECAO_MONETARIA  number(14, 2) CONSTRAINT NN_PAGOS_ARREC11 NOT NULL, 
  VALOR_TAXA                number(14, 2) CONSTRAINT NN_PAGOS_ARREC12 NOT NULL, 
  TIPO_DARE                 number(1) CONSTRAINT NN_PAGOS_ARREC13 NOT NULL, 
  ORIGEM_DARE               number(1) CONSTRAINT NN_PAGOS_ARREC14 NOT NULL, 
  SITUACAO_DARE             number(1) CONSTRAINT NN_PAGOS_ARREC15 NOT NULL, 
  DATA_PAGO_BANCO           date CONSTRAINT NN_PAGOS_ARREC16 NOT NULL, 
  NSU_BARRA                 varchar2(25) CONSTRAINT NN_PAGOS_ARREC17 NOT NULL, 
  ID_MUNICIPIO_DARE         number(7), 
  TRANSFERIDO_PAGAMENTO     number(1), 
  DARE_RESTITUIDO           number(1), 
  ID_DETALHE_ARQUIVO        number(15), 
  ID_REPASSE                number(10) CONSTRAINT NN_PAGOS_ARREC18 NOT NULL, 
  ID_NOSSO_NUMERO_DARE      number(15) CONSTRAINT NN_PAGOS_ARREC19 NOT NULL, 
  ID_SEQ_DARE_DETALHE       number(6) CONSTRAINT NN_PAGOS_ARREC20 NOT NULL,
  USUARIO_INSERCAO   		varchar2(30)  CONSTRAINT NN_PAGOS_ARREC21 NOT NULL,
  DATA_INSERCAO      		timestamp CONSTRAINT NN_PAGOS_ARREC22 NOT NULL,
  USUARIO_ALTERACAO  		varchar2(30),
  DATA_ALTERACAO     		timestamp,
  REGISTRO_EXCLUIDO  		char(1) default 'N' CONSTRAINT NN_PAGOS_ARREC23 NOT NULL,
  USUARIO_EXCLUSAO   		varchar2(30),
  DATA_EXCLUSAO      		timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT PK_PAGOS_ARREC PRIMARY KEY (ID_BDAR_TPAR, ORDEM_LOTE);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT CK_PAGOS_ARREC1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT CK_PAGOS_ARREC2 CHECK (TIPO_PESSOA between 1 and 4); 
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT CK_PAGOS_ARREC3 CHECK (TIPO_DARE between 1 and 3); 
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT CK_PAGOS_ARREC4 CHECK (ORIGEM_DARE between 1 and 5); 
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT CK_PAGOS_ARREC5 CHECK (SITUACAO_DARE in (0,1)); 
 
 
  
COMMENT ON TABLE SEFAZ_ARR.TA_PAGOS_ARREC IS 'Tabela de Pagamentos de todos os Tributos Estaduais';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_BDAR_TPAR IS 'Numero do TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ORDEM_LOTE IS 'Sequencia de pagamentos de até 999máx.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_PESSOA IS 'Responsável pelo Pagamento do DARE, podendo ser uma Inscrição Estadual ou CPF ou CPNJ ou RENAVAN. Cadastrados na Tabela de Contribuintes do IPVA, EXTRACADASTRO ou IPVA';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.TIPO_PESSOA IS '1-INSCRICAO,2-CNPJ,3-CPF,4-RENAVAN';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_PAGAMENTO IS 'Data do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.PERIODO_REFERENCIA IS 'Período de Referência do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_RECEITA IS 'Número do Código da Receita';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_SUBCODIGO IS 'Código informado quando ocorrer mudança no subcodigo da receita.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DOCUMENTO IS 'número do pagamento podendo ser de um Auto de Infração, Parcelamento, Declaração e etc.. Será identificado o documneto em conjunto com o código de receita especificado.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.NUMERO_PARCELA IS 'Número da Parcela do Parcelamento será informado quando for uma receita especifica para parcelamentos ativos.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_VENCIMENTO_INFORMADO IS 'Data de Vencimento do Dare';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_TOTAL IS 'Valor Total do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_PRINCIPAL IS 'Valor Principal ou Valor do Imposto informado no pagamento.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_MULTA IS 'Valor da Multa informado no pagamento.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_JUROS IS 'Valor do Juros informado no pagamento.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_CORRECAO_MONETARIA IS 'Valor da Correção Montetária informada no pagamento.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.VALOR_TAXA IS 'Valor da Taxa informada no pagamento.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.TIPO_DARE IS 'Código do Tipo de Convênio: 1-GNRE,2-DARE,3-IPVA';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ORIGEM_DARE IS 'Tipo de Formas de Recebimento de Cobranças de Tarifas: 1-Guiche de Caixa,2-Arrecadação Eletrônica,3-Internet,4-Outros Meios,5-Correspondente Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.SITUACAO_DARE IS '1-ERRO, NULL OU 0 - OK';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_PAGO_BANCO IS 'Data da Transação do Banco. Efetivado o Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.NSU_BARRA IS 'Número Sequencial Único de pagamento, fornecido pelo banco.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_MUNICIPIO_DARE IS 'Municipio que foi recepcionado o Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.TRANSFERIDO_PAGAMENTO IS 'Transferido o Pagamento para as Contas dos Contribuintes. 1- SIM 0 OU NULL - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DARE_RESTITUIDO IS 'Sinaliza se pagamento já sofreu restituições. 1- SIM, 0 ou Null - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_DETALHE_ARQUIVO IS 'Sequencial do Arquivo de Detalhe ( Arquivo de Registros de Pagos )';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_REPASSE IS 'Número da RTC- Repartição de Transferências Constitucionais quando o pagamento já sofreu o repasse.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_NOSSO_NUMERO_DARE IS 'Número Sequencial gerado por ano para identificação do DARE emitido nos sistemas da SEFAZ-TO.
Formato de AAAAI0000000000, AAAA - Ano de Geração da Sequenciai, I - 1 - Emitido pelo SIAT, 2 - Emitido pela Internet. 0000000000 - Sequencial gerado por Ano.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.ID_SEQ_DARE_DETALHE IS 'Sequencial incrementado por cada registro que foi vinculado ao ID_NOSSO_NUMERO_DARE. Exemplo : ID_NOSSO_NUMERO foi gerado com 2 Receitas de Tributos de Débitos, onde um terá  a sequencia 1 e o outro terá sequencia 2.';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_PAGOS_ARREC.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC (
  ID_BDAR_TPAR            number(15) CONSTRAINT NN_LOTES_PAGOS_ARREC1 NOT NULL, 
  DATA_PROCESSAMENTO      date CONSTRAINT NN_LOTES_PAGOS_ARREC2 NOT NULL, 
  TIPO                    number(1) CONSTRAINT NN_LOTES_PAGOS_ARREC3 NOT NULL, 
  ESTADO_LOTE             number(1) CONSTRAINT NN_LOTES_PAGOS_ARREC4 NOT NULL, 
  DATA_RECEPCAO           date CONSTRAINT NN_LOTES_PAGOS_ARREC5 NOT NULL, 
  ID_CONVENIO             number(10) CONSTRAINT NN_LOTES_PAGOS_ARREC6 NOT NULL, 
  ID_BANCO                number(4) CONSTRAINT NN_LOTES_PAGOS_ARREC7 NOT NULL, 
  ID_AGENCIA              number(6) CONSTRAINT NN_LOTES_PAGOS_ARREC8 NOT NULL, 
  QUANTIDADE_RECEPCIONADO number(6) CONSTRAINT NN_LOTES_PAGOS_ARREC9 NOT NULL, 
  VALOR_RECEPCIONADO      number(14, 2) CONSTRAINT NN_LOTES_PAGOS_ARREC10 NOT NULL, 
  QUANTIDADE_DOCS         number(6) CONSTRAINT NN_LOTES_PAGOS_ARREC11 NOT NULL, 
  VALOR_LOTE              number(14, 2) CONSTRAINT NN_LOTES_PAGOS_ARREC12 NOT NULL, 
  QUANTIDADE_ERROS        number(6) CONSTRAINT NN_LOTES_PAGOS_ARREC13 NOT NULL, 
  VALOR_ERROS             number(14, 2) CONSTRAINT NN_LOTES_PAGOS_ARREC14 NOT NULL,
  USUARIO_INSERCAO   	  varchar2(30) CONSTRAINT NN_LOTES_PAGOS_ARREC15 NOT NULL,
  DATA_INSERCAO      	  timestamp CONSTRAINT NN_LOTES_PAGOS_ARREC16 NOT NULL,
  USUARIO_ALTERACAO  	  varchar2(30),
  DATA_ALTERACAO     	  timestamp,
  REGISTRO_EXCLUIDO  	  char(1) default 'N' CONSTRAINT NN_LOTES_PAGOS_ARREC17 NOT NULL,
  USUARIO_EXCLUSAO   	  varchar2(30),
  DATA_EXCLUSAO      	  timestamp
);

ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT PK_LOTES_PAGOS_ARREC PRIMARY KEY (ID_BDAR_TPAR);
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT CK_LOTES_PAGOS_ARREC1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));  
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT CK_LOTES_PAGOS_ARREC2 CHECK (TIPO IN (1,2));  
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT CK_LOTES_PAGOS_ARREC3 CHECK (ESTADO_LOTE IN (1,2));  
  
COMMENT ON TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC IS 'Tabela de Lotes de Pagamentos onde ficarão cadastrados todos os dados resumidos dos arquivos processados parciais e consolidados dos convênios bancários.';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.ID_BDAR_TPAR IS 'Sequencial gerado do BDAR ou TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.DATA_PROCESSAMENTO IS 'Data em que foi realizado o processamento do arquivo';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.TIPO IS 'Origem da transação (1-bdar, 2-tpar)';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.ESTADO_LOTE IS '1-Aberto,2-Fechado';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.DATA_RECEPCAO IS 'Data da Recepção do Pagamento';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.ID_CONVENIO IS 'Código do Convênio Bancário';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.ID_AGENCIA IS 'Código da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.QUANTIDADE_RECEPCIONADO IS 'Quantidade Recepcionada no TPAR e ou BDAR (Somatório das Colunas quantidade docs + Quantidade Erros )';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.VALOR_RECEPCIONADO IS 'Valor Recepcionado para o TPAR e ou BDAR (Somatório das Colunas Valor Lotes + Valor Erros )';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.QUANTIDADE_DOCS IS 'Quantidade de registros processados sem Erros no TPAR e ou BDAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.VALOR_LOTE IS 'Total do Valor processado sem Erros para o TPAR ou BDAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.QUANTIDADE_ERROS IS 'Quantidade Erros no momento do processamento do arquivo parcial ou consolidado';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.VALOR_ERROS IS 'Valor Total Erros no momento do processamento do arquivo parcial ou consolidado';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS_ARREC.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_LOTES_PAGOS (
  ID_BDDAR 			number(15) CONSTRAINT NN_LOTES_PAGOS1 NOT NULL, 
  ID_TPAR  			number(15) CONSTRAINT NN_LOTES_PAGOS2 NOT NULL,
  USUARIO_INSERCAO  varchar2(30) CONSTRAINT NN_LOTES_PAGOS3 NOT NULL,
  DATA_INSERCAO     timestamp CONSTRAINT NN_LOTES_PAGOS4 NOT NULL,
  USUARIO_ALTERACAO varchar2(30),
  DATA_ALTERACAO    timestamp,
  REGISTRO_EXCLUIDO char(1) default 'N' CONSTRAINT NN_LOTES_PAGOS5 NOT NULL,
  USUARIO_EXCLUSAO  varchar2(30),
  DATA_EXCLUSAO     timestamp
);

ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS ADD CONSTRAINT PK_LOTES_PAGOS PRIMARY KEY (ID_BDDAR, ID_TPAR);
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS ADD CONSTRAINT CK_LOTES_PAGOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));  
  
COMMENT ON TABLE SEFAZ_ARR.TA_LOTES_PAGOS IS 'Tabela de Relacionamento entre BDAR - Boletim Diário de Arrecadação e TPAR - Boletim Parcial de Arrecadação. Permite visualizar todos os TPARs que estão realcionados a um Determinado BDAR.';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.ID_BDDAR IS 'Código Sequencial do BDAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.ID_TPAR IS 'Código Sequencial do TPAR';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_LOTES_PAGOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_BANCOS (
  ID_BANCO  		number(4) CONSTRAINT NN_BANCOS1 NOT NULL, 
  NOME_BANCO 		varchar2(150) CONSTRAINT NN_BANCOS2 NOT NULL, 
  SITUACAO   		number(1) CONSTRAINT NN_BANCOS3 NOT NULL, 
  CNPJ_RAIZ  		number(8) CONSTRAINT NN_BANCOS4 NOT NULL,
  USUARIO_INSERCAO  varchar2(30) CONSTRAINT NN_BANCOS5 NOT NULL,
  DATA_INSERCAO     timestamp CONSTRAINT NN_BANCOS6 NOT NULL,
  USUARIO_ALTERACAO varchar2(30),
  DATA_ALTERACAO    timestamp,
  REGISTRO_EXCLUIDO char(1) default 'N' CONSTRAINT NN_BANCOS7 NOT NULL,
  USUARIO_EXCLUSAO  varchar2(30),
  DATA_EXCLUSAO     timestamp
);
  
ALTER TABLE SEFAZ_ARR.TA_BANCOS ADD CONSTRAINT PK_BANCOS PRIMARY KEY (ID_BANCO);
ALTER TABLE SEFAZ_ARR.TA_BANCOS ADD CONSTRAINT CK_BANCOS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N'));  
ALTER TABLE SEFAZ_ARR.TA_BANCOS ADD CONSTRAINT CK_BANCOS2 CHECK (SITUACAO IN (1,2));  
  
COMMENT ON TABLE SEFAZ_ARR.TA_BANCOS IS 'Tabela de Cadastro de Bancos Arrecadadores';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.NOME_BANCO IS 'Nome do Banco';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.SITUACAO IS 'Situação do Banco. 1- ATIVO, 2- CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.CNPJ_RAIZ IS 'CNPJ RAIZ DO BANCO ARRECADADOR';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCOS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS (
  ID_BANCO              number(4) CONSTRAINT NN_BANCO_AGENCIAS1 NOT NULL, 
  ID_AGENCIA            number(6) CONSTRAINT NN_BANCO_AGENCIAS2 NOT NULL, 
  DIGITO_AGENCIA        varchar2(2) CONSTRAINT NN_BANCO_AGENCIAS3 NOT NULL, 
  NOME_AGENCIA          varchar2(150) CONSTRAINT NN_BANCO_AGENCIAS4 NOT NULL, 
  CNPJ_AGENCIA          number(14) CONSTRAINT NN_BANCO_AGENCIAS5 NOT NULL, 
  SITUACAO              number(1) CONSTRAINT NN_BANCO_AGENCIAS6 NOT NULL, 
  CENTRALIZADORA        number(1), 
  NUMERO_CONTA_CORRENTE number(10) CONSTRAINT NN_BANCO_AGENCIAS7 NOT NULL, 
  DIGITO_CONTA_CORRENTE varchar2(2) CONSTRAINT NN_BANCO_AGENCIAS8 NOT NULL, 
  ID_MUNICIPIO          number(7) CONSTRAINT NN_BANCO_AGENCIAS9 NOT NULL, 
  EMAIL                 varchar2(150) CONSTRAINT NN_BANCO_AGENCIAS10 NOT NULL,
  USUARIO_INSERCAO  	varchar2(30) CONSTRAINT NN_BANCO_AGENCIAS11 NOT NULL,
  DATA_INSERCAO     	timestamp CONSTRAINT NN_BANCO_AGENCIAS12 NOT NULL,
  USUARIO_ALTERACAO 	varchar2(30),
  DATA_ALTERACAO    	timestamp,
  REGISTRO_EXCLUIDO 	char(1) default 'N' CONSTRAINT NN_BANCO_AGENCIAS13 NOT NULL,
  USUARIO_EXCLUSAO  	varchar2(30),
  DATA_EXCLUSAO     	timestamp
);

ALTER TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS ADD CONSTRAINT PK_BANCO_AGENCIAS PRIMARY KEY (ID_BANCO,ID_AGENCIA);
ALTER TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS ADD CONSTRAINT CK_BANCO_AGENCIAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
ALTER TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS ADD CONSTRAINT CK_BANCO_AGENCIAS2 CHECK (SITUACAO IN (1,2)); 


  
COMMENT ON TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS IS 'Tabela de Cadastro das Agências Arrecadadoras de Cada Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.ID_BANCO IS 'Código do Banco Arrecadador';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.ID_AGENCIA IS 'Código da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.DIGITO_AGENCIA IS 'Digito da Agência';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.NOME_AGENCIA IS 'Nome da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.CNPJ_AGENCIA IS 'CNPJ da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.SITUACAO IS 'Situação do Banco X Agência. 1 - ATIVA , 2 - CANCELADA';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.CENTRALIZADORA IS 'Verifica que o Banco E Agência é a Centralizadora ou Não no Estado. 1 - SIM, NULL - NÃO';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.NUMERO_CONTA_CORRENTE IS 'Número da Conta Corrente da Agência';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.DIGITO_CONTA_CORRENTE IS 'Digito da Conta Corrente da Agência';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.ID_MUNICIPIO IS 'Código do Municipio do Serpro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.EMAIL IS 'Email Correspondências da Agência Arrecadadora';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_BANCO_AGENCIAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DELEGACIA_AGENCIAS (
  ID_UNIDADE_DELEGACIA  number(5) CONSTRAINT NN_DELEGACIA_AGENCIAS1 NOT NULL, 
  ID_DELEGACIA          number(5) CONSTRAINT NN_DELEGACIA_AGENCIAS2 NOT NULL, 
  DESCRICAO             varchar2(200) CONSTRAINT NN_DELEGACIA_AGENCIAS3 NOT NULL,
  USUARIO_INSERCAO  	varchar2(30) CONSTRAINT NN_DELEGACIA_AGENCIAS4 NOT NULL,
  DATA_INSERCAO     	timestamp CONSTRAINT NN_DELEGACIA_AGENCIAS5 NOT NULL,
  USUARIO_ALTERACAO 	varchar2(30),
  DATA_ALTERACAO    	timestamp,
  REGISTRO_EXCLUIDO 	char(1) default 'N' CONSTRAINT NN_DELEGACIA_AGENCIAS6 NOT NULL,
  USUARIO_EXCLUSAO  	varchar2(30),
  DATA_EXCLUSAO     	timestamp
);

ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_AGENCIAS ADD CONSTRAINT PK_DELEGACIA_AGENCIAS PRIMARY KEY (ID_UNIDADE_DELEGACIA,ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_AGENCIAS ADD CONSTRAINT CK_DELEGACIA_AGENCIAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
  
COMMENT ON TABLE SEFAZ_ARR.TA_DELEGACIA_AGENCIAS IS 'Tabela de Relacionamento entre Delegacias X Unidades Regionais ou Postos Fisccais';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.ID_UNIDADE_DELEGACIA IS 'Código das Unidade Regionais e ou Postos Fiscais que estão relacionadas com as Delegacias Fazendárias';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.ID_DELEGACIA IS 'Número da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.DESCRICAO IS 'Nome das Unidades Regionais ou Postos Fiscais';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIA_AGENCIAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


CREATE TABLE SEFAZ_ARR.TA_DELEGACIAS (
  ID_DELEGACIA          number(5) CONSTRAINT NN_DELEGACIAS1 NOT NULL, 
  DESCRICAO             varchar2(150) CONSTRAINT NN_DELEGACIAS2 NOT NULL, 
  SITUACAO              number(1) CONSTRAINT NN_DELEGACIAS3 NOT NULL, 
  DATA_INCLUSAO         date CONSTRAINT NN_DELEGACIAS4 NOT NULL, 
  USUARIO_INCLUSAO      number(14) CONSTRAINT NN_DELEGACIAS5 NOT NULL, 
  TIPO                  number(2) CONSTRAINT NN_DELEGACIAS6 NOT NULL, 
  DELEGACIA_HIERARQUICA number(5),
  USUARIO_INSERCAO  	varchar2(30) CONSTRAINT NN_DELEGACIAS7 NOT NULL,
  DATA_INSERCAO     	timestamp CONSTRAINT NN_DELEGACIAS8 NOT NULL,
  USUARIO_ALTERACAO 	varchar2(30),
  DATA_ALTERACAO    	timestamp,
  REGISTRO_EXCLUIDO 	char(1) default 'N' CONSTRAINT NN_DELEGACIAS9 NOT NULL,
  USUARIO_EXCLUSAO  	varchar2(30),
  DATA_EXCLUSAO     	timestamp
);

 ALTER TABLE SEFAZ_ARR.TA_DELEGACIAS ADD CONSTRAINT PK_DELEGACIAS PRIMARY KEY (ID_DELEGACIA);
 ALTER TABLE SEFAZ_ARR.TA_DELEGACIAS ADD CONSTRAINT CK_DELEGACIAS1 CHECK (REGISTRO_EXCLUIDO IN ('S', 'N')); 
 ALTER TABLE SEFAZ_ARR.TA_DELEGACIAS ADD CONSTRAINT CK_DELEGACIAS2 CHECK (SITUACAO IN (1,2));
 ALTER TABLE SEFAZ_ARR.TA_DELEGACIAS ADD CONSTRAINT CK_DELEGACIAS3 CHECK (TIPO between 1 and 4); 
  
  
COMMENT ON TABLE SEFAZ_ARR.TA_DELEGACIAS IS 'Tabela de para cadastro das Delegacias existentes na SEFAZ';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.ID_DELEGACIA IS 'Número da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DESCRICAO IS 'Nome da Delegacia ou Unidade Fazendária';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.SITUACAO IS '1-ATIVO, 2- CANCELADO';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DATA_INCLUSAO IS 'Data em que foi incluida a Delegacia';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.USUARIO_INCLUSAO IS 'Usuário que realizou a operação';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.TIPO IS '1-Delegacia, 2-Agência Regional, 3-Posto Fiscal, 4- Orgãos Externos';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DELEGACIA_HIERARQUICA IS 'Delegacia Hierarquica, caso estaja subordinada a uma outra Delegacia.';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.USUARIO_INSERCAO IS 'Usuário inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DATA_INSERCAO IS 'Data - hora inserção do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.USUARIO_ALTERACAO IS 'Usuário alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DATA_ALTERACAO IS 'Data - hora alteração do registro';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.REGISTRO_EXCLUIDO IS 'Identificador do registro excluido (S) Sim ou (N) Não';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.USUARIO_EXCLUSAO IS 'Usuário que fez a exclusão';
COMMENT ON COLUMN SEFAZ_ARR.TA_DELEGACIAS.DATA_EXCLUSAO IS 'Data - hora exclusão do registro';


ALTER TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS ADD CONSTRAINT "FK_PAGOS_CORRIGIDOS1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT "FK_ARQUIVO_RECEPCAO1" FOREIGN KEY (ID_BANCO) REFERENCES SEFAZ_ARR.TA_BANCOS (ID_BANCO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS ADD CONSTRAINT "FK_PEDIDO_CAMPOS_INFORMADOS1" FOREIGN KEY (ID_CAMPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES (ID_CAMPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_RECEPCAO ADD CONSTRAINT "FK_ARQUIVO_RECEPCAO2" FOREIGN KEY (ID_CONVENIO) REFERENCES SEFAZ_ARR.TA_CONVENIOS_ARREC (ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RECEITA ADD CONSTRAINT "FK_PEDIDO_RECEITA1" FOREIGN KEY (ID_TIPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPOS (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT "FK_PAGOS_ARREC1" FOREIGN KEY (ID_BDAR_TPAR) REFERENCES SEFAZ_ARR.TA_LOTES_PAGOS_ARREC (ID_BDAR_TPAR);
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT "FK_LOTES_PAGOS_ARREC1" FOREIGN KEY (ID_BANCO) REFERENCES SEFAZ_ARR.TA_BANCOS (ID_BANCO);
ALTER TABLE SEFAZ_ARR.TA_LOTES_PAGOS_ARREC ADD CONSTRAINT "FK_LOTES_PAGOS_ARREC2" FOREIGN KEY (ID_BANCO, ID_AGENCIA) REFERENCES SEFAZ_ARR.TA_BANCO_AGENCIAS (ID_BANCO, ID_AGENCIA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER ADD CONSTRAINT "FK_PEDIDO_DETALHE_PARECER1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO ADD CONSTRAINT "FK_ARQUIVO_ERRO1" FOREIGN KEY (ID_DETALHE_ARQUIVO) REFERENCES SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS (ID_DETALHE_ARQUIVO);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_AGENCIAS ADD CONSTRAINT "FK_DELEGACIA_AGENCIAS1" FOREIGN KEY (ID_DELEGACIA) REFERENCES SEFAZ_ARR.TA_DELEGACIAS (ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO ADD CONSTRAINT "FK_PAGOS_RESTITUICAO1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PLANO_CONTAS ADD CONSTRAINT "FK_PLANO_CONTAS1" FOREIGN KEY (ID_GRUPO_CNAE) REFERENCES SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES (ID_GRUPO_CNAE);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT "FK_PEDIDO_SOLICITACAO1" FOREIGN KEY (ID_TIPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPOS (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT "FK_PEDIDO_AREAS1" FOREIGN KEY (ID_UNIDADE_DELEGACIA, ID_DELEGACIA) REFERENCES SEFAZ_ARR.TA_DELEGACIA_AGENCIAS (ID_UNIDADE_DELEGACIA, ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT "FK_PAGOS_ARREC2" FOREIGN KEY (ID_DETALHE_ARQUIVO) REFERENCES SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS (ID_DETALHE_ARQUIVO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS ADD CONSTRAINT "FK_PEDIDO_DOCS1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_TARIFAS ADD CONSTRAINT "FK_CONVENIOS_TARIFAS1" FOREIGN KEY (ID_CONVENIO) REFERENCES SEFAZ_ARR.TA_CONVENIOS_ARREC (ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS ADD CONSTRAINT "FK_DELEGACIA_RECEITAS1" FOREIGN KEY (ID_RECEITA) REFERENCES SEFAZ_ARR.TA_RECEITAS (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_MUNICIPIOS_CONTAS ADD CONSTRAINT "FK_MUNICIPIOS_CONTAS2" FOREIGN KEY (ID_BANCO, ID_AGENCIA) REFERENCES SEFAZ_ARR.TA_BANCO_AGENCIAS (ID_BANCO, ID_AGENCIA);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT "FK_PAGOS_ARREC3" FOREIGN KEY (ID_REPASSE) REFERENCES SEFAZ_ARR.TA_RTC_REPASSE (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_TAXAS ADD CONSTRAINT "FK_RECEITAS_TAXAS1" FOREIGN KEY (ID_RECEITA) REFERENCES SEFAZ_ARR.TA_RECEITAS (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT "FK_PAGOS_ARREC4" FOREIGN KEY (ID_RECEITA) REFERENCES SEFAZ_ARR.TA_RECEITAS (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_RECEITAS ADD CONSTRAINT "FK_DELEGACIA_RECEITAS2" FOREIGN KEY (ID_DELEGACIA) REFERENCES SEFAZ_ARR.TA_DELEGACIAS (ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_CORRIGIDOS ADD CONSTRAINT "FK_PAGOS_CORRIGIDOS2" FOREIGN KEY (ID_BDAR_TPAR, ORDEM_LOTE) REFERENCES SEFAZ_ARR.TA_PAGOS_ARREC (ID_BDAR_TPAR, ORDEM_LOTE);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_SOLICITACAO ADD CONSTRAINT "FK_PEDIDO_SOLICITACAO2" FOREIGN KEY (ID_ACOES) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES (ID_ACOES);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_RESTITUICAO ADD CONSTRAINT "FK_PAGOS_RESTITUICAO2" FOREIGN KEY (ID_BDAR_TPAR, ORDEM_LOTE) REFERENCES SEFAZ_ARR.TA_PAGOS_ARREC (ID_BDAR_TPAR, ORDEM_LOTE);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_DETALHE_PAGOS ADD CONSTRAINT "FK_ARQUIVO_DETALHE_PAGOS1" FOREIGN KEY (ID_ARQUIVOS) REFERENCES SEFAZ_ARR.TA_ARQUIVO_RECEPCAO (ID_ARQUIVOS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS ADD CONSTRAINT "FK_PEDIDO_DOCS2" FOREIGN KEY (ID_TIPO_DOCS) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS (ID_TIPO_DOCS);
ALTER TABLE SEFAZ_ARR.TA_RESUMO_ARRECADACAO ADD CONSTRAINT "FK_RESUMO_ARRECADACAO1" FOREIGN KEY (ID_ARRECADACAO) REFERENCES SEFAZ_ARR.TA_ESTATISTICAS_ARRECADACAO (ID_ARRECADACAO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES ADD CONSTRAINT "FK_PEDIDO_TIPO_ACOES1" FOREIGN KEY (ID_TIPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPOS (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CONTA_TRIBUTARIA ADD CONSTRAINT "FK_PEDIDO_CONTA_TRIBUTARIA1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_SERVIDORES ADD CONSTRAINT "FK_PEDIDO_AREAS_SERVIDORES1" FOREIGN KEY (ID_PEDIDO_AREA) REFERENCES SEFAZ_ARR.TA_PEDIDO_AREAS (ID_PEDIDO_AREA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS ADD CONSTRAINT "FK_PEDIDO_PAGOS1" FOREIGN KEY (ID_BDAR_TPAR, ORDEM_LOTE) REFERENCES SEFAZ_ARR.TA_PAGOS_ARREC (ID_BDAR_TPAR, ORDEM_LOTE);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO ADD CONSTRAINT "FK_PEDIDO_RESTITUICAO1" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_DELEGACIA_ENDERECO ADD CONSTRAINT "FK_DELEGACIA_ENDERECO1" FOREIGN KEY (ID_DELEGACIA) REFERENCES SEFAZ_ARR.TA_DELEGACIAS (ID_DELEGACIA);
ALTER TABLE SEFAZ_ARR.TA_RTC_FINANCEIRO ADD CONSTRAINT "FK_RTC_FINANCEIRO1" FOREIGN KEY (ID_REPASSE) REFERENCES SEFAZ_ARR.TA_RTC_REPASSE (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_PAGOS ADD CONSTRAINT "FK_PEDIDO_PAGOS2" FOREIGN KEY (ID_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_SOLICITACAO (ID_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_GRUPOS_CNAE ADD CONSTRAINT "FK_GRUPOS_CNAE1" FOREIGN KEY (ID_GRUPO_CNAE) REFERENCES SEFAZ_ARR.TA_TIPO_GRUPOS_CNAES (ID_GRUPO_CNAE);
ALTER TABLE SEFAZ_ARR.TA_BANCO_AGENCIAS ADD CONSTRAINT "FK_BANCO_AGENCIAS1" FOREIGN KEY (ID_BANCO) REFERENCES SEFAZ_ARR.TA_BANCOS (ID_BANCO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_ACOES ADD CONSTRAINT "FK_PEDIDO_CAMPOS_ACOES1" FOREIGN KEY (ID_ACOES) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPO_ACOES (ID_ACOES);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER ADD CONSTRAINT "FK_PEDIDO_DETALHE_PARECER2" FOREIGN KEY (ID_PEDIDO_AREA) REFERENCES SEFAZ_ARR.TA_PEDIDO_AREAS (ID_PEDIDO_AREA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_EXIGENCIA_PARECER ADD CONSTRAINT "FK_PEDIDO_EXIGENCIA_PARECER1" FOREIGN KEY (ID_PARECER) REFERENCES SEFAZ_ARR.TA_PEDIDO_DETALHE_PARECER (ID_PARECER);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS ADD CONSTRAINT "FK_RECEITAS_CONVENIOS1" FOREIGN KEY (ID_CONVENIO) REFERENCES SEFAZ_ARR.TA_CONVENIOS_ARREC (ID_CONVENIO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS_FAIXA_VALOR ADD CONSTRAINT "FK_PEDIDO_AREAS_FAIXA_VALOR1" FOREIGN KEY (ID_PEDIDO_AREA) REFERENCES SEFAZ_ARR.TA_PEDIDO_AREAS (ID_PEDIDO_AREA);
ALTER TABLE SEFAZ_ARR.TA_RTC_REPASSE_DETALHE ADD CONSTRAINT "FK_RTC_REPASSE_DETALHE1" FOREIGN KEY (ID_REPASSE) REFERENCES SEFAZ_ARR.TA_RTC_REPASSE (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_CONVENIOS_ARREC ADD CONSTRAINT "FK_CONVENIOS_ARREC1" FOREIGN KEY (ID_BANCO, ID_AGENCIA) REFERENCES SEFAZ_ARR.TA_BANCO_AGENCIAS (ID_BANCO, ID_AGENCIA);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_REPASSE ADD CONSTRAINT "FK_RECEITAS_REPASSE1" FOREIGN KEY (ID_RECEITA) REFERENCES SEFAZ_ARR.TA_RECEITAS (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERRO ADD CONSTRAINT "FK_ARQUIVO_ERRO2" FOREIGN KEY (ID_CODIGO_REJEICAO) REFERENCES SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS (ID_CODIGO_REJEICAO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT "FK_PEDIDO_DOCS_EXIGIDOS1" FOREIGN KEY (ID_TIPO_DOCS) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPO_DOCS (ID_TIPO_DOCS);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS_CONVENIOS ADD CONSTRAINT "FK_RECEITAS_CONVENIOS2" FOREIGN KEY (ID_RECEITA) REFERENCES SEFAZ_ARR.TA_RECEITAS (ID_RECEITA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_AREAS ADD CONSTRAINT "FK_PEDIDO_AREAS2" FOREIGN KEY (ID_TIPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPOS (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_RESTITUICAO ADD CONSTRAINT "FK_PEDIDO_RESTITUICAO2" FOREIGN KEY (ID_BANCO, ID_AGENCIA) REFERENCES SEFAZ_ARR.TA_BANCO_AGENCIAS (ID_BANCO, ID_AGENCIA);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_DOCS_EXIGIDOS ADD CONSTRAINT "FK_PEDIDO_DOCS_EXIGIDOS2" FOREIGN KEY (ID_TIPO_PEDIDO) REFERENCES SEFAZ_ARR.TA_PEDIDO_TIPOS (ID_TIPO_PEDIDO);
ALTER TABLE SEFAZ_ARR.TA_RECEITAS ADD CONSTRAINT "FK_RECEITAS1" FOREIGN KEY (ID_PLANO_CONTAS) REFERENCES SEFAZ_ARR.TA_PLANO_CONTAS (ID_PLANOCONTAS);
ALTER TABLE SEFAZ_ARR.TA_PEDIDO_CAMPOS_INFORMADOS ADD CONSTRAINT "FK_PEDIDO_CAMPOS_INFORMADOS2" FOREIGN KEY (ID_PEDIDO_PAGOS) REFERENCES SEFAZ_ARR.TA_PEDIDO_PAGOS (ID_PEDIDO_PAGOS);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_AJUSTES_REPASSE ADD CONSTRAINT "FK_PAGOS_AJUSTES_REPASSE1" FOREIGN KEY (TA_RTC_REPASSE) REFERENCES SEFAZ_ARR.TA_RTC_REPASSE (ID_REPASSE);
ALTER TABLE SEFAZ_ARR.TA_PAGOS_ARREC ADD CONSTRAINT "FK_PAGOS_ARREC5" FOREIGN KEY (ID_NOSSO_NUMERO_DARE, ID_SEQ_DARE_DETALHE) REFERENCES SEFAZ_ARR.TA_DARE_DETALHE (ID_NOSSO_NUMERO_DARE, ID_SEQ_DARE_DETALHE);
ALTER TABLE SEFAZ_ARR.TA_DARE_DETALHE ADD CONSTRAINT "FK_DARE_DETALHE1" FOREIGN KEY (ID_NOSSO_NUMERO_DARE) REFERENCES SEFAZ_ARR.TA_DARE (ID_NOSSO_NUMERO_DARE);
ALTER TABLE SEFAZ_ARR.TA_DETALHE_STR ADD CONSTRAINT "FK_DETALHE_STR1" FOREIGN KEY (ID_ARQUIVO_STR) REFERENCES SEFAZ_ARR.TA_ARQUIVOS_STR (ID_ARQUIVO_STR);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR ADD CONSTRAINT "FK_ARQUIVO_ERROS_STR1" FOREIGN KEY (ID_ARQUIVO_STR) REFERENCES SEFAZ_ARR.TA_ARQUIVOS_STR (ID_ARQUIVO_STR);
ALTER TABLE SEFAZ_ARR.TA_ARQUIVO_ERROS_STR ADD CONSTRAINT "FK_ARQUIVO_ERROS_STR2" FOREIGN KEY (ID_CODIGO_REJEICAO) REFERENCES SEFAZ_ARR.TA_TIPO_REJEICAO_ARQUIVOS (ID_CODIGO_REJEICAO);

