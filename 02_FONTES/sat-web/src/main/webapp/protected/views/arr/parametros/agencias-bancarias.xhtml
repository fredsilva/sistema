<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:to="http://sefaz.to.gov.br/composites"
        xmlns:b="http://bootsfaces.net/ui"
        >

    <ui:composition template="/protected/views/templates/views/default-template.xhtml">
        <ui:param name="pageTitle" value="Sefaz-to - Home"/>
        <ui:define name="content">
            <div id="bodydiv" class="col-md-12">
                <to:tabela id="customTable"
                           title="#{msg['parametros.bancosagencias.titulo']}"
                           bean="#{bancosMB}"
                           headers="#{msg['parametros.bancosagencias.tabela.codigo']},
                                    #{msg['parametros.bancosagencias.tabela.nome']},
                                    #{msg['parametros.bancosagencias.tabela.cnpj']},
                                    #{msg['parametros.bancosagencias.tabela.situacao']}"
                           fields="idBanco,nomeBanco,cnpjRaiz,situacao.label"
                           delete="idBanco"
                           select="idBanco"
                           selectTarget="bform"
                           paginable="true"/>

                <div>
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#bancos">#{msg['parametros.bancosagencias.tab.bancos']}</a></li>
                        <li><a data-toggle="tab" href="#agencias">#{msg['parametros.bancosagencias.tab.agencias']}</a></li>
                    </ul>
                    <div class="tab-content">
                        <div id="bancos" class="tab-pane fade in active">
                            <div class="panel panel-default">
                                <div class="panel-heading"><h3 class="panel-title">#{msg['parametros.bancos.form.titulo']}</h3></div>                            
                                <h:form id="bform" class="panel-body">
                                    <div class="row">
                                        <div class="form-group col-md-2">
                                            <h:outputLabel for="codigo">#{msg['parametros.bancos.form.numero']}*</h:outputLabel>
                                            <h:inputText value="#{bancosMB.dto.idBanco}" id="codigo"
                                                    styleClass="form-control" required="true" requiredMessage="Código do banco é obrigatório"
                                                    p:data-mask="9?999"/>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <h:outputLabel for="nome">#{msg['parametros.bancos.form.nome']}*</h:outputLabel>
                                            <h:inputText value="#{bancosMB.dto.nomeBanco}" id="nome"
                                                    styleClass="form-control" required="true" requiredMessage="Nome do banco é obrigatório"
                                                    maxlength="150" />
                                        </div>
                                        <div class="form-group col-md-4">
                                            <h:outputLabel for="cnpj">#{msg['parametros.bancos.form.cnpj']}*</h:outputLabel>
                                            <h:inputText value="#{bancosMB.dto.cnpjRaiz}" id="cnpj"
                                                    styleClass="form-control" required="true" requiredMessage="É obrigatório preencher os 8 dígitos da Raíz do CNPJ"
                                                    maxlength="8"
                                                    p:data-mask="99999999" />
                                        </div>
                                        <div class="form-group col-md-2">
                                            <h:outputLabel for="situacao">#{msg['parametros.bancos.form.situacao']}*</h:outputLabel>
                                            <h:selectOneMenu value="#{bancosMB.dto.situacao}" id="situacao"
                                                    styleClass="form-control">
                                                <f:selectItem itemValue="1" itemLabel="Ativo"/>
                                                <f:selectItem itemValue="2" itemLabel="Cancelado"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 text-right">
                                            <button type="button" onclick="clearFields('bodydiv');"
                                                    class="btn btn-primary">#{msg['parametros.bancos.botao.novo']}</button>
                                            <h:commandButton value="#{msg['parametros.bancos.botao.salvar']}" styleClass="btn btn-primary"
                                                    action="#{bancosMB.save()}">
                                                <f:ajax render="customTable bform"
                                                        execute="codigo nome cnpj situacao"/>
                                            </h:commandButton>
                                        </div>
                                    </div>
                                </h:form>                                
                            </div>
                        </div>
                        <div id="agencias" class="tab-pane fade">
                            <div class="panel panel-default">
                                <h:form class="panel-body">
                                    <div class="panel-heading"><h3 class="panel-title">#{msg['parametros.agencias.form.titulo']}</h3></div>
                                </h:form>
                            </div>
                                
                        </div>
                   </div>

                </div>
            </div>

        </ui:define>
    </ui:composition>

</html>
