<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:composite="http://java.sun.com/jsf/composite"
      >
    
    <composite:interface>    
        <composite:attribute name="id" />    	
        <composite:attribute name="bean" />
        <composite:attribute name="rendertarget" />
    </composite:interface>
	
    <composite:implementation>    
            <nav class="panel-body row">
                <div class="pagination-panel">
                    <ul class="pagination" style="margin: 0">
                        <li class="#{cc.attrs.bean.page.first ?'disabled':''}">
                            <ui:fragment rendered="#{!cc.attrs.bean.page.first}">
                            <h:commandLink action="#{cc.attrs.bean.loadPage(cc.attrs.bean.pageNumber-1)}"
                                    p:aria-label="Previous">
                                <span aria-hidden="true">&#xab;</span>                                
                                <f:ajax render="#{cc.attrs.rendertarget}" execute="page pageSize"/>
                            </h:commandLink>
                            </ui:fragment>
                                <ui:fragment rendered="#{cc.attrs.bean.page.first}">
                                    <a aria-label="Previous" href="javascript:void(0)"><span aria-hidden="true">&#xab;</span></a>
                                </ui:fragment>
                        </li>
                        <ui:repeat value="#{cc.attrs.bean.createPageList()}" var="index">
                            <li class="#{index == cc.attrs.bean.pageNumber ?'active':''}">
                                <h:commandLink action="#{cc.attrs.bean.loadPage(index)}">
                                    ${index}
                                    <ui:fragment rendered="#{index == cc.attrs.bean.pageNumber}">
                                        <span class="sr-only">(atual)</span>
                                    </ui:fragment>                                    
                                    <f:ajax render="#{cc.attrs.rendertarget}" execute="page pageSize"/>
                                </h:commandLink>
                            </li>
                        </ui:repeat>
                        <li class="#{cc.attrs.bean.page.last ?'disabled':''}">
                            <ui:fragment rendered="#{!cc.attrs.bean.page.last}">
                            <h:commandLink action="#{cc.attrs.bean.loadPage(cc.attrs.bean.pageNumber+1)}"
                                    p:aria-label="Next">
                                <span aria-hidden="true">&#xbb;</span>                                
                                <f:ajax render="#{cc.attrs.rendertarget}" execute="page pageSize"/>
                            </h:commandLink>
                            </ui:fragment>
                                <ui:fragment rendered="#{cc.attrs.bean.page.last}">
                                    <a aria-label="Next" href="javascript:void(0)"><span aria-hidden="true">&#xab;</span></a>
                                </ui:fragment>
                        </li>
                    </ul>
                    <div class="page-size">
                        <h:inputText p:type="number" id="pageSize" styleClass="form-control"
                                value="#{cc.attrs.bean.pageSize}"/>
                    </div>
                </div>
            </nav>
    </composite:implementation>
	
</html>