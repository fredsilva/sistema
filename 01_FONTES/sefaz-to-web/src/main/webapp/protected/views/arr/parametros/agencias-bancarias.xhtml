<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:to="http://sefaz.to.gov.br/composites"
        xmlns:b="http://bootsfaces.net/ui"
        >
    
    <ui:composition template="/protected/views/templates/views/default-template.xhtml">
        <ui:param name="pageTitle" value="Sefaz-to - Home"/>
        <ui:define name="content">                        
            <div id="bodydiv" class="panel panel-default">
                <to:tabela id="customTable"
                           title="PARAMETRIZAÇÃO DOS BANCOS e AGÊNCIAS"
                           bean="#{bancosController}"  
                           headers="Código,Nome,CNPJ Raíz"                                            
                           fields="idBanco,nomeBanco,cnpjRaiz"
                           delete="idBanco"                           
                           select="idBanco"
                           selecttarget="bform"
                           paginable="true"/>
                <div class="panel-body">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#bancos">Bancos</a></li>
                        <li><a data-toggle="tab" href="#agencias">Agências</a></li>                        
                    </ul>
                    <div class="tab-content">                    
                        <div id="bancos" class="tab-pane fade in active">                        
                            <h:form id="bform">
                                <div class="row">
                                    <div class="form-group col-md-2">
                                        <h:outputLabel for="codigo">Número*</h:outputLabel>
                                        <h:inputText value="#{bancosController.dto.idBanco}" id="codigo"
                                                styleClass="form-control" required="true" requiredMessage="Código do banco é obrigatório"
                                                p:data-mask="9?999"/>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <h:outputLabel for="nome">Nome do Banco*</h:outputLabel>
                                        <h:inputText value="#{bancosController.dto.nomeBanco}" id="nome"
                                                styleClass="form-control" required="true" requiredMessage="Nome do banco é obrigatório"
                                                maxlength="150" />
                                    </div>
                                    <div class="form-group col-md-4">
                                        <h:outputLabel for="cnpj">CNPJ Raíz*</h:outputLabel>
                                        <h:inputText value="#{bancosController.dto.cnpjRaiz}" id="cnpj"
                                                styleClass="form-control" required="true" requiredMessage="É obrigatório preencher os 8 dígitos da Raíz do CNPJ"
                                                maxlength="8"
                                                p:data-mask="99999999" />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <h:outputLabel for="situacao">Situação*</h:outputLabel>
                                        <h:selectOneMenu value="#{bancosController.dto.situacao}" id="situacao"
                                                styleClass="form-control">
                                            <f:selectItem itemValue="1" itemLabel="Ativo"/>
                                            <f:selectItem itemValue="2" itemLabel="Cancelado"/>
                                        </h:selectOneMenu>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 text-right">
                                        <button type="button" onclick="clearFields('bodydiv');" 
                                                class="btn btn-primary">Novo Banco</button>                                                                                                
                                        <h:commandButton value="Salvar" styleClass="btn btn-primary"
                                                action="#{bancosController.save()}">
                                            <f:ajax render=":customTable:customTable bform alert-modal-dialog" 
                                                    execute="codigo nome cnpj situacao"/>
                                        </h:commandButton>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                        <div id="agencias" class="tab-pane fade">
                            <h:outputText value="Agencias" />
                        </div>
                   </div>
                </div>
            </div>
            
        </ui:define>
    </ui:composition>

</html>
